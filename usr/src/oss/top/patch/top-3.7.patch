diff -cNr ../top-3.7-orig/config.guess ./config.guess
*** ../top-3.7-orig/config.guess	2008-02-27 13:39:40.000000000 +0900
--- ./config.guess	2014-10-14 16:32:02.000000000 +0900
***************
*** 1,13 ****
  #! /bin/sh
  # Attempt to guess a canonical system name.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
! #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
  
! timestamp='2003-07-02'
  
  # This file is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2 of the License, or
  # (at your option) any later version.
  #
  # This program is distributed in the hope that it will be useful, but
--- 1,12 ----
  #! /bin/sh
  # Attempt to guess a canonical system name.
! #   Copyright 1992-2014 Free Software Foundation, Inc.
  
! timestamp='2014-03-23'
  
  # This file is free software; you can redistribute it and/or modify it
  # under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 3 of the License, or
  # (at your option) any later version.
  #
  # This program is distributed in the hope that it will be useful, but
***************
*** 16,39 ****
  # General Public License for more details.
  #
  # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA 02111-1307, USA.
  #
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
  # configuration script generated by Autoconf, you may include it under
! # the same distribution terms that you use for the rest of that program.
! 
! # Originally written by Per Bothner <per@bothner.com>.
! # Please send patches to <config-patches@gnu.org>.  Submit a context
! # diff and a properly formatted ChangeLog entry.
  #
! # This script attempts to guess a canonical system name similar to
! # config.sub.  If it succeeds, it prints the system name on stdout, and
! # exits with 0.  Otherwise, it exits with 1.
  #
! # The plan is that this can be called by configure scripts if you
! # don't specify an explicit build system type.
  
  me=`echo "$0" | sed -e 's,.*/,,'`
  
--- 15,36 ----
  # General Public License for more details.
  #
  # You should have received a copy of the GNU General Public License
! # along with this program; if not, see <http://www.gnu.org/licenses/>.
  #
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
  # configuration script generated by Autoconf, you may include it under
! # the same distribution terms that you use for the rest of that
! # program.  This Exception is an additional permission under section 7
! # of the GNU General Public License, version 3 ("GPLv3").
! #
! # Originally written by Per Bothner.
  #
! # You can get the latest version of this script from:
! # http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD
  #
! # Please send patches with a ChangeLog entry to config-patches@gnu.org.
! 
  
  me=`echo "$0" | sed -e 's,.*/,,'`
  
***************
*** 53,60 ****
  GNU config.guess ($timestamp)
  
  Originally written by Per Bothner.
! Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
! Free Software Foundation, Inc.
  
  This is free software; see the source for copying conditions.  There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
--- 50,56 ----
  GNU config.guess ($timestamp)
  
  Originally written by Per Bothner.
! Copyright 1992-2014 Free Software Foundation, Inc.
  
  This is free software; see the source for copying conditions.  There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
***************
*** 66,76 ****
  while test $# -gt 0 ; do
    case $1 in
      --time-stamp | --time* | -t )
!        echo "$timestamp" ; exit 0 ;;
      --version | -v )
!        echo "$version" ; exit 0 ;;
      --help | --h* | -h )
!        echo "$usage"; exit 0 ;;
      -- )     # Stop option processing
         shift; break ;;
      - )	# Use stdin as input.
--- 62,72 ----
  while test $# -gt 0 ; do
    case $1 in
      --time-stamp | --time* | -t )
!        echo "$timestamp" ; exit ;;
      --version | -v )
!        echo "$version" ; exit ;;
      --help | --h* | -h )
!        echo "$usage"; exit ;;
      -- )     # Stop option processing
         shift; break ;;
      - )	# Use stdin as input.
***************
*** 104,110 ****
  trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
  trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
  : ${TMPDIR=/tmp} ;
!  { tmp=`(umask 077 && mktemp -d -q "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
   { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
   { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
   { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
--- 100,106 ----
  trap "exitcode=\$?; (rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null) && exit \$exitcode" 0 ;
  trap "rm -f \$tmpfiles 2>/dev/null; rmdir \$tmp 2>/dev/null; exit 1" 1 2 13 15 ;
  : ${TMPDIR=/tmp} ;
!  { tmp=`(umask 077 && mktemp -d "$TMPDIR/cgXXXXXX") 2>/dev/null` && test -n "$tmp" && test -d "$tmp" ; } ||
   { test -n "$RANDOM" && tmp=$TMPDIR/cg$$-$RANDOM && (umask 077 && mkdir $tmp) ; } ||
   { tmp=$TMPDIR/cg-$$ && (umask 077 && mkdir $tmp) && echo "Warning: creating insecure temp directory" >&2 ; } ||
   { echo "$me: cannot create a temporary directory in $TMPDIR" >&2 ; exit 1 ; } ;
***************
*** 123,129 ****
  	;;
   ,,*)   CC_FOR_BUILD=$CC ;;
   ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
! esac ;'
  
  # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
  # (ghazi@noc.rutgers.edu 1994-08-24)
--- 119,125 ----
  	;;
   ,,*)   CC_FOR_BUILD=$CC ;;
   ,*,*)  CC_FOR_BUILD=$HOST_CC ;;
! esac ; set_cc_for_build= ;'
  
  # This is needed to find uname on a Pyramid OSx when run in the BSD universe.
  # (ghazi@noc.rutgers.edu 1994-08-24)
***************
*** 136,147 ****
  UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
  UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
  
  # Note: order is significant - the case branches are not exclusive.
  
  case "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" in
      *:NetBSD:*:*)
  	# NetBSD (nbsd) targets should (where applicable) match one or
! 	# more of the tupples: *-*-netbsdelf*, *-*-netbsdaout*,
  	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
  	# switched to ELF, *-*-netbsd* would select the old
  	# object file format.  This provides both forward
--- 132,164 ----
  UNAME_SYSTEM=`(uname -s) 2>/dev/null`  || UNAME_SYSTEM=unknown
  UNAME_VERSION=`(uname -v) 2>/dev/null` || UNAME_VERSION=unknown
  
+ case "${UNAME_SYSTEM}" in
+ Linux|GNU|GNU/*)
+ 	# If the system lacks a compiler, then just pick glibc.
+ 	# We could probably try harder.
+ 	LIBC=gnu
+ 
+ 	eval $set_cc_for_build
+ 	cat <<-EOF > $dummy.c
+ 	#include <features.h>
+ 	#if defined(__UCLIBC__)
+ 	LIBC=uclibc
+ 	#elif defined(__dietlibc__)
+ 	LIBC=dietlibc
+ 	#else
+ 	LIBC=gnu
+ 	#endif
+ 	EOF
+ 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
+ 	;;
+ esac
+ 
  # Note: order is significant - the case branches are not exclusive.
  
  case "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" in
      *:NetBSD:*:*)
  	# NetBSD (nbsd) targets should (where applicable) match one or
! 	# more of the tuples: *-*-netbsdelf*, *-*-netbsdaout*,
  	# *-*-netbsdecoff* and *-*-netbsd*.  For targets that recently
  	# switched to ELF, *-*-netbsd* would select the old
  	# object file format.  This provides both forward
***************
*** 158,163 ****
--- 175,181 ----
  	    arm*) machine=arm-unknown ;;
  	    sh3el) machine=shl-unknown ;;
  	    sh3eb) machine=sh-unknown ;;
+ 	    sh5el) machine=sh5le-unknown ;;
  	    *) machine=${UNAME_MACHINE_ARCH}-unknown ;;
  	esac
  	# The Operating System including object format, if it has switched
***************
*** 166,172 ****
  	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
  		eval $set_cc_for_build
  		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
! 			| grep __ELF__ >/dev/null
  		then
  		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
  		    # Return netbsd for either.  FIX?
--- 184,190 ----
  	    arm*|i386|m68k|ns32k|sh3*|sparc|vax)
  		eval $set_cc_for_build
  		if echo __ELF__ | $CC_FOR_BUILD -E - 2>/dev/null \
! 			| grep -q __ELF__
  		then
  		    # Once all utilities can be ECOFF (netbsdecoff) or a.out (netbsdaout).
  		    # Return netbsd for either.  FIX?
***************
*** 176,182 ****
  		fi
  		;;
  	    *)
! 	        os=netbsd
  		;;
  	esac
  	# The OS release
--- 194,200 ----
  		fi
  		;;
  	    *)
! 		os=netbsd
  		;;
  	esac
  	# The OS release
***************
*** 196,245 ****
  	# contains redundant information, the shorter form:
  	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
  	echo "${machine}-${os}${release}"
! 	exit 0 ;;
!     amiga:OpenBSD:*:*)
! 	echo m68k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     arc:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     hp300:OpenBSD:*:*)
! 	echo m68k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     mac68k:OpenBSD:*:*)
! 	echo m68k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     macppc:OpenBSD:*:*)
! 	echo powerpc-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     mvme68k:OpenBSD:*:*)
! 	echo m68k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     mvme88k:OpenBSD:*:*)
! 	echo m88k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     mvmeppc:OpenBSD:*:*)
! 	echo powerpc-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     pmax:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     sgi:OpenBSD:*:*)
! 	echo mipseb-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     sun3:OpenBSD:*:*)
! 	echo m68k-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
!     wgrisc:OpenBSD:*:*)
! 	echo mipsel-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
      *:OpenBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-openbsd${UNAME_RELEASE}
! 	exit 0 ;;
      alpha:OSF1:*:*)
! 	if test $UNAME_RELEASE = "V4.0"; then
  		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
! 	fi
  	# According to Compaq, /usr/sbin/psrinfo has been available on
  	# OSF/1 and Tru64 systems produced since 1995.  I hope that
  	# covers most systems running today.  This code pipes the CPU
--- 214,249 ----
  	# contains redundant information, the shorter form:
  	# CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM is used.
  	echo "${machine}-${os}${release}"
! 	exit ;;
!     *:Bitrig:*:*)
! 	UNAME_MACHINE_ARCH=`arch | sed 's/Bitrig.//'`
! 	echo ${UNAME_MACHINE_ARCH}-unknown-bitrig${UNAME_RELEASE}
! 	exit ;;
      *:OpenBSD:*:*)
! 	UNAME_MACHINE_ARCH=`arch | sed 's/OpenBSD.//'`
! 	echo ${UNAME_MACHINE_ARCH}-unknown-openbsd${UNAME_RELEASE}
! 	exit ;;
!     *:ekkoBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-ekkobsd${UNAME_RELEASE}
! 	exit ;;
!     *:SolidBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-solidbsd${UNAME_RELEASE}
! 	exit ;;
!     macppc:MirBSD:*:*)
! 	echo powerpc-unknown-mirbsd${UNAME_RELEASE}
! 	exit ;;
!     *:MirBSD:*:*)
! 	echo ${UNAME_MACHINE}-unknown-mirbsd${UNAME_RELEASE}
! 	exit ;;
      alpha:OSF1:*:*)
! 	case $UNAME_RELEASE in
! 	*4.0)
  		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $3}'`
! 		;;
! 	*5.*)
! 		UNAME_RELEASE=`/usr/sbin/sizer -v | awk '{print $4}'`
! 		;;
! 	esac
  	# According to Compaq, /usr/sbin/psrinfo has been available on
  	# OSF/1 and Tru64 systems produced since 1995.  I hope that
  	# covers most systems running today.  This code pipes the CPU
***************
*** 277,318 ****
  	    "EV7.9 (21364A)")
  		UNAME_MACHINE="alphaev79" ;;
  	esac
  	# A Vn.n version is a released version.
  	# A Tn.n version is a released field test version.
  	# A Xn.n version is an unreleased experimental baselevel.
  	# 1.2 uses "1.2" for uname -r.
! 	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[VTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
! 	exit 0 ;;
!     Alpha*:OpenVMS:*:*)
! 	echo alpha-hp-vms
! 	exit 0 ;;
      Alpha\ *:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# Should we change UNAME_MACHINE based on the output of uname instead
  	# of the specific Alpha model?
  	echo alpha-pc-interix
! 	exit 0 ;;
      21064:Windows_NT:50:3)
  	echo alpha-dec-winnt3.5
! 	exit 0 ;;
      Amiga*:UNIX_System_V:4.0:*)
  	echo m68k-unknown-sysv4
! 	exit 0;;
      *:[Aa]miga[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-amigaos
! 	exit 0 ;;
      *:[Mm]orph[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-morphos
! 	exit 0 ;;
      *:OS/390:*:*)
  	echo i370-ibm-openedition
! 	exit 0 ;;
      arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
  	echo arm-acorn-riscix${UNAME_RELEASE}
! 	exit 0;;
      SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
  	echo hppa1.1-hitachi-hiuxmpp
! 	exit 0;;
      Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
  	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
  	if test "`(/bin/universe) 2>/dev/null`" = att ; then
--- 281,332 ----
  	    "EV7.9 (21364A)")
  		UNAME_MACHINE="alphaev79" ;;
  	esac
+ 	# A Pn.n version is a patched version.
  	# A Vn.n version is a released version.
  	# A Tn.n version is a released field test version.
  	# A Xn.n version is an unreleased experimental baselevel.
  	# 1.2 uses "1.2" for uname -r.
! 	echo ${UNAME_MACHINE}-dec-osf`echo ${UNAME_RELEASE} | sed -e 's/^[PVTX]//' | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
! 	# Reset EXIT trap before exiting to avoid spurious non-zero exit code.
! 	exitcode=$?
! 	trap '' 0
! 	exit $exitcode ;;
      Alpha\ *:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# Should we change UNAME_MACHINE based on the output of uname instead
  	# of the specific Alpha model?
  	echo alpha-pc-interix
! 	exit ;;
      21064:Windows_NT:50:3)
  	echo alpha-dec-winnt3.5
! 	exit ;;
      Amiga*:UNIX_System_V:4.0:*)
  	echo m68k-unknown-sysv4
! 	exit ;;
      *:[Aa]miga[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-amigaos
! 	exit ;;
      *:[Mm]orph[Oo][Ss]:*:*)
  	echo ${UNAME_MACHINE}-unknown-morphos
! 	exit ;;
      *:OS/390:*:*)
  	echo i370-ibm-openedition
! 	exit ;;
!     *:z/VM:*:*)
! 	echo s390-ibm-zvmoe
! 	exit ;;
!     *:OS400:*:*)
! 	echo powerpc-ibm-os400
! 	exit ;;
      arm:RISC*:1.[012]*:*|arm:riscix:1.[012]*:*)
  	echo arm-acorn-riscix${UNAME_RELEASE}
! 	exit ;;
!     arm*:riscos:*:*|arm*:RISCOS:*:*)
! 	echo arm-unknown-riscos
! 	exit ;;
      SR2?01:HI-UX/MPP:*:* | SR8000:HI-UX/MPP:*:*)
  	echo hppa1.1-hitachi-hiuxmpp
! 	exit ;;
      Pyramid*:OSx*:*:* | MIS*:OSx*:*:* | MIS*:SMP_DC-OSx*:*:*)
  	# akee@wpdis03.wpafb.af.mil (Earle F. Ake) contributed MIS and NILE.
  	if test "`(/bin/universe) 2>/dev/null`" = att ; then
***************
*** 320,351 ****
  	else
  		echo pyramid-pyramid-bsd
  	fi
! 	exit 0 ;;
      NILE*:*:*:dcosx)
  	echo pyramid-pyramid-svr4
! 	exit 0 ;;
      DRS?6000:unix:4.0:6*)
  	echo sparc-icl-nx6
! 	exit 0 ;;
!     DRS?6000:UNIX_SV:4.2*:7*)
  	case `/usr/bin/uname -p` in
! 	    sparc) echo sparc-icl-nx7 && exit 0 ;;
  	esac ;;
      sun4H:SunOS:5.*:*)
  	echo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit 0 ;;
      sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
  	echo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit 0 ;;
!     i86pc:SunOS:5.*:*)
! 	echo i386-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit 0 ;;
      sun4*:SunOS:6*:*)
  	# According to config.sub, this is the proper way to canonicalize
  	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
  	# it's likely to be more like Solaris than SunOS4.
  	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit 0 ;;
      sun4*:SunOS:*:*)
  	case "`/usr/bin/arch -k`" in
  	    Series*|S4*)
--- 334,384 ----
  	else
  		echo pyramid-pyramid-bsd
  	fi
! 	exit ;;
      NILE*:*:*:dcosx)
  	echo pyramid-pyramid-svr4
! 	exit ;;
      DRS?6000:unix:4.0:6*)
  	echo sparc-icl-nx6
! 	exit ;;
!     DRS?6000:UNIX_SV:4.2*:7* | DRS?6000:isis:4.2*:7*)
  	case `/usr/bin/uname -p` in
! 	    sparc) echo sparc-icl-nx7; exit ;;
  	esac ;;
+     s390x:SunOS:*:*)
+ 	echo ${UNAME_MACHINE}-ibm-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
+ 	exit ;;
      sun4H:SunOS:5.*:*)
  	echo sparc-hal-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit ;;
      sun4*:SunOS:5.*:* | tadpole*:SunOS:5.*:*)
  	echo sparc-sun-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit ;;
!     i86pc:AuroraUX:5.*:* | i86xen:AuroraUX:5.*:*)
! 	echo i386-pc-auroraux${UNAME_RELEASE}
! 	exit ;;
!     i86pc:SunOS:5.*:* | i86xen:SunOS:5.*:*)
! 	eval $set_cc_for_build
! 	SUN_ARCH="i386"
! 	# If there is a compiler, see if it is configured for 64-bit objects.
! 	# Note that the Sun cc does not turn __LP64__ into 1 like gcc does.
! 	# This test works for both compilers.
! 	if [ "$CC_FOR_BUILD" != 'no_compiler_found' ]; then
! 	    if (echo '#ifdef __amd64'; echo IS_64BIT_ARCH; echo '#endif') | \
! 		(CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) | \
! 		grep IS_64BIT_ARCH >/dev/null
! 	    then
! 		SUN_ARCH="x86_64"
! 	    fi
! 	fi
! 	echo ${SUN_ARCH}-pc-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit ;;
      sun4*:SunOS:6*:*)
  	# According to config.sub, this is the proper way to canonicalize
  	# SunOS6.  Hard to guess exactly what SunOS6 will be like, but
  	# it's likely to be more like Solaris than SunOS4.
  	echo sparc-sun-solaris3`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit ;;
      sun4*:SunOS:*:*)
  	case "`/usr/bin/arch -k`" in
  	    Series*|S4*)
***************
*** 354,363 ****
  	esac
  	# Japanese Language versions have a version number like `4.1.3-JL'.
  	echo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's/-/_/'`
! 	exit 0 ;;
      sun3*:SunOS:*:*)
  	echo m68k-sun-sunos${UNAME_RELEASE}
! 	exit 0 ;;
      sun*:*:4.2BSD:*)
  	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
  	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
--- 387,396 ----
  	esac
  	# Japanese Language versions have a version number like `4.1.3-JL'.
  	echo sparc-sun-sunos`echo ${UNAME_RELEASE}|sed -e 's/-/_/'`
! 	exit ;;
      sun3*:SunOS:*:*)
  	echo m68k-sun-sunos${UNAME_RELEASE}
! 	exit ;;
      sun*:*:4.2BSD:*)
  	UNAME_RELEASE=`(sed 1q /etc/motd | awk '{print substr($5,1,3)}') 2>/dev/null`
  	test "x${UNAME_RELEASE}" = "x" && UNAME_RELEASE=3
***************
*** 369,378 ****
  		echo sparc-sun-sunos${UNAME_RELEASE}
  		;;
  	esac
! 	exit 0 ;;
      aushp:SunOS:*:*)
  	echo sparc-auspex-sunos${UNAME_RELEASE}
! 	exit 0 ;;
      # The situation for MiNT is a little confusing.  The machine name
      # can be virtually everything (everything which is not
      # "atarist" or "atariste" at least should have a processor
--- 402,411 ----
  		echo sparc-sun-sunos${UNAME_RELEASE}
  		;;
  	esac
! 	exit ;;
      aushp:SunOS:*:*)
  	echo sparc-auspex-sunos${UNAME_RELEASE}
! 	exit ;;
      # The situation for MiNT is a little confusing.  The machine name
      # can be virtually everything (everything which is not
      # "atarist" or "atariste" at least should have a processor
***************
*** 382,419 ****
      # MiNT.  But MiNT is downward compatible to TOS, so this should
      # be no problem.
      atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
!         echo m68k-atari-mint${UNAME_RELEASE}
! 	exit 0 ;;
      atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
  	echo m68k-atari-mint${UNAME_RELEASE}
!         exit 0 ;;
      *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
!         echo m68k-atari-mint${UNAME_RELEASE}
! 	exit 0 ;;
      milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
!         echo m68k-milan-mint${UNAME_RELEASE}
!         exit 0 ;;
      hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
!         echo m68k-hades-mint${UNAME_RELEASE}
!         exit 0 ;;
      *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
!         echo m68k-unknown-mint${UNAME_RELEASE}
!         exit 0 ;;
      powerpc:machten:*:*)
  	echo powerpc-apple-machten${UNAME_RELEASE}
! 	exit 0 ;;
      RISC*:Mach:*:*)
  	echo mips-dec-mach_bsd4.3
! 	exit 0 ;;
      RISC*:ULTRIX:*:*)
  	echo mips-dec-ultrix${UNAME_RELEASE}
! 	exit 0 ;;
      VAX*:ULTRIX*:*:*)
  	echo vax-dec-ultrix${UNAME_RELEASE}
! 	exit 0 ;;
      2020:CLIX:*:* | 2430:CLIX:*:*)
  	echo clipper-intergraph-clix${UNAME_RELEASE}
! 	exit 0 ;;
      mips:*:*:UMIPS | mips:*:*:RISCos)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
--- 415,455 ----
      # MiNT.  But MiNT is downward compatible to TOS, so this should
      # be no problem.
      atarist[e]:*MiNT:*:* | atarist[e]:*mint:*:* | atarist[e]:*TOS:*:*)
! 	echo m68k-atari-mint${UNAME_RELEASE}
! 	exit ;;
      atari*:*MiNT:*:* | atari*:*mint:*:* | atarist[e]:*TOS:*:*)
  	echo m68k-atari-mint${UNAME_RELEASE}
! 	exit ;;
      *falcon*:*MiNT:*:* | *falcon*:*mint:*:* | *falcon*:*TOS:*:*)
! 	echo m68k-atari-mint${UNAME_RELEASE}
! 	exit ;;
      milan*:*MiNT:*:* | milan*:*mint:*:* | *milan*:*TOS:*:*)
! 	echo m68k-milan-mint${UNAME_RELEASE}
! 	exit ;;
      hades*:*MiNT:*:* | hades*:*mint:*:* | *hades*:*TOS:*:*)
! 	echo m68k-hades-mint${UNAME_RELEASE}
! 	exit ;;
      *:*MiNT:*:* | *:*mint:*:* | *:*TOS:*:*)
! 	echo m68k-unknown-mint${UNAME_RELEASE}
! 	exit ;;
!     m68k:machten:*:*)
! 	echo m68k-apple-machten${UNAME_RELEASE}
! 	exit ;;
      powerpc:machten:*:*)
  	echo powerpc-apple-machten${UNAME_RELEASE}
! 	exit ;;
      RISC*:Mach:*:*)
  	echo mips-dec-mach_bsd4.3
! 	exit ;;
      RISC*:ULTRIX:*:*)
  	echo mips-dec-ultrix${UNAME_RELEASE}
! 	exit ;;
      VAX*:ULTRIX*:*:*)
  	echo vax-dec-ultrix${UNAME_RELEASE}
! 	exit ;;
      2020:CLIX:*:* | 2430:CLIX:*:*)
  	echo clipper-intergraph-clix${UNAME_RELEASE}
! 	exit ;;
      mips:*:*:UMIPS | mips:*:*:RISCos)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
***************
*** 437,471 ****
  	  exit (-1);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c \
! 	  && $dummy `echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` \
! 	  && exit 0
  	echo mips-mips-riscos${UNAME_RELEASE}
! 	exit 0 ;;
      Motorola:PowerMAX_OS:*:*)
  	echo powerpc-motorola-powermax
! 	exit 0 ;;
      Motorola:*:4.3:PL8-*)
  	echo powerpc-harris-powermax
! 	exit 0 ;;
      Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
  	echo powerpc-harris-powermax
! 	exit 0 ;;
      Night_Hawk:Power_UNIX:*:*)
  	echo powerpc-harris-powerunix
! 	exit 0 ;;
      m88k:CX/UX:7*:*)
  	echo m88k-harris-cxux7
! 	exit 0 ;;
      m88k:*:4*:R4*)
  	echo m88k-motorola-sysv4
! 	exit 0 ;;
      m88k:*:3*:R3*)
  	echo m88k-motorola-sysv3
! 	exit 0 ;;
      AViiON:dgux:*:*)
!         # DG/UX returns AViiON for all architectures
!         UNAME_PROCESSOR=`/usr/bin/uname -p`
  	if [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]
  	then
  	    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \
--- 473,508 ----
  	  exit (-1);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c &&
! 	  dummyarg=`echo "${UNAME_RELEASE}" | sed -n 's/\([0-9]*\).*/\1/p'` &&
! 	  SYSTEM_NAME=`$dummy $dummyarg` &&
! 	    { echo "$SYSTEM_NAME"; exit; }
  	echo mips-mips-riscos${UNAME_RELEASE}
! 	exit ;;
      Motorola:PowerMAX_OS:*:*)
  	echo powerpc-motorola-powermax
! 	exit ;;
      Motorola:*:4.3:PL8-*)
  	echo powerpc-harris-powermax
! 	exit ;;
      Night_Hawk:*:*:PowerMAX_OS | Synergy:PowerMAX_OS:*:*)
  	echo powerpc-harris-powermax
! 	exit ;;
      Night_Hawk:Power_UNIX:*:*)
  	echo powerpc-harris-powerunix
! 	exit ;;
      m88k:CX/UX:7*:*)
  	echo m88k-harris-cxux7
! 	exit ;;
      m88k:*:4*:R4*)
  	echo m88k-motorola-sysv4
! 	exit ;;
      m88k:*:3*:R3*)
  	echo m88k-motorola-sysv3
! 	exit ;;
      AViiON:dgux:*:*)
! 	# DG/UX returns AViiON for all architectures
! 	UNAME_PROCESSOR=`/usr/bin/uname -p`
  	if [ $UNAME_PROCESSOR = mc88100 ] || [ $UNAME_PROCESSOR = mc88110 ]
  	then
  	    if [ ${TARGET_BINARY_INTERFACE}x = m88kdguxelfx ] || \
***************
*** 478,506 ****
  	else
  	    echo i586-dg-dgux${UNAME_RELEASE}
  	fi
!  	exit 0 ;;
      M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
  	echo m88k-dolphin-sysv3
! 	exit 0 ;;
      M88*:*:R3*:*)
  	# Delta 88k system running SVR3
  	echo m88k-motorola-sysv3
! 	exit 0 ;;
      XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
  	echo m88k-tektronix-sysv3
! 	exit 0 ;;
      Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
  	echo m68k-tektronix-bsd
! 	exit 0 ;;
      *:IRIX*:*:*)
  	echo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e 's/-/_/g'`
! 	exit 0 ;;
      ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
! 	echo romp-ibm-aix      # uname -m gives an 8 hex-code CPU id
! 	exit 0 ;;              # Note that: echo "'`uname -s`'" gives 'AIX '
      i*86:AIX:*:*)
  	echo i386-ibm-aix
! 	exit 0 ;;
      ia64:AIX:*:*)
  	if [ -x /usr/bin/oslevel ] ; then
  		IBM_REV=`/usr/bin/oslevel`
--- 515,543 ----
  	else
  	    echo i586-dg-dgux${UNAME_RELEASE}
  	fi
! 	exit ;;
      M88*:DolphinOS:*:*)	# DolphinOS (SVR3)
  	echo m88k-dolphin-sysv3
! 	exit ;;
      M88*:*:R3*:*)
  	# Delta 88k system running SVR3
  	echo m88k-motorola-sysv3
! 	exit ;;
      XD88*:*:*:*) # Tektronix XD88 system running UTekV (SVR3)
  	echo m88k-tektronix-sysv3
! 	exit ;;
      Tek43[0-9][0-9]:UTek:*:*) # Tektronix 4300 system running UTek (BSD)
  	echo m68k-tektronix-bsd
! 	exit ;;
      *:IRIX*:*:*)
  	echo mips-sgi-irix`echo ${UNAME_RELEASE}|sed -e 's/-/_/g'`
! 	exit ;;
      ????????:AIX?:[12].1:2)   # AIX 2.2.1 or AIX 2.1.1 is RT/PC AIX.
! 	echo romp-ibm-aix     # uname -m gives an 8 hex-code CPU id
! 	exit ;;               # Note that: echo "'`uname -s`'" gives 'AIX '
      i*86:AIX:*:*)
  	echo i386-ibm-aix
! 	exit ;;
      ia64:AIX:*:*)
  	if [ -x /usr/bin/oslevel ] ; then
  		IBM_REV=`/usr/bin/oslevel`
***************
*** 508,514 ****
  		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
  	fi
  	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
! 	exit 0 ;;
      *:AIX:2:3)
  	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
  		eval $set_cc_for_build
--- 545,551 ----
  		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
  	fi
  	echo ${UNAME_MACHINE}-ibm-aix${IBM_REV}
! 	exit ;;
      *:AIX:2:3)
  	if grep bos325 /usr/include/stdio.h >/dev/null 2>&1; then
  		eval $set_cc_for_build
***************
*** 523,537 ****
  			exit(0);
  			}
  EOF
! 		$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
! 		echo rs6000-ibm-aix3.2.5
  	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
  		echo rs6000-ibm-aix3.2.4
  	else
  		echo rs6000-ibm-aix3.2
  	fi
! 	exit 0 ;;
!     *:AIX:*:[45])
  	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
  	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
  		IBM_ARCH=rs6000
--- 560,578 ----
  			exit(0);
  			}
  EOF
! 		if $CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy`
! 		then
! 			echo "$SYSTEM_NAME"
! 		else
! 			echo rs6000-ibm-aix3.2.5
! 		fi
  	elif grep bos324 /usr/include/stdio.h >/dev/null 2>&1; then
  		echo rs6000-ibm-aix3.2.4
  	else
  		echo rs6000-ibm-aix3.2
  	fi
! 	exit ;;
!     *:AIX:*:[4567])
  	IBM_CPU_ID=`/usr/sbin/lsdev -C -c processor -S available | sed 1q | awk '{ print $1 }'`
  	if /usr/sbin/lsattr -El ${IBM_CPU_ID} | grep ' POWER' >/dev/null 2>&1; then
  		IBM_ARCH=rs6000
***************
*** 544,571 ****
  		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
  	fi
  	echo ${IBM_ARCH}-ibm-aix${IBM_REV}
! 	exit 0 ;;
      *:AIX:*:*)
  	echo rs6000-ibm-aix
! 	exit 0 ;;
      ibmrt:4.4BSD:*|romp-ibm:BSD:*)
  	echo romp-ibm-bsd4.4
! 	exit 0 ;;
      ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
  	echo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to
! 	exit 0 ;;                           # report: romp-ibm BSD 4.3
      *:BOSX:*:*)
  	echo rs6000-bull-bosx
! 	exit 0 ;;
      DPX/2?00:B.O.S.:*:*)
  	echo m68k-bull-sysv3
! 	exit 0 ;;
      9000/[34]??:4.3bsd:1.*:*)
  	echo m68k-hp-bsd
! 	exit 0 ;;
      hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
  	echo m68k-hp-bsd4.4
! 	exit 0 ;;
      9000/[34678]??:HP-UX:*:*)
  	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`
  	case "${UNAME_MACHINE}" in
--- 585,612 ----
  		IBM_REV=${UNAME_VERSION}.${UNAME_RELEASE}
  	fi
  	echo ${IBM_ARCH}-ibm-aix${IBM_REV}
! 	exit ;;
      *:AIX:*:*)
  	echo rs6000-ibm-aix
! 	exit ;;
      ibmrt:4.4BSD:*|romp-ibm:BSD:*)
  	echo romp-ibm-bsd4.4
! 	exit ;;
      ibmrt:*BSD:*|romp-ibm:BSD:*)            # covers RT/PC BSD and
  	echo romp-ibm-bsd${UNAME_RELEASE}   # 4.3 with uname added to
! 	exit ;;                             # report: romp-ibm BSD 4.3
      *:BOSX:*:*)
  	echo rs6000-bull-bosx
! 	exit ;;
      DPX/2?00:B.O.S.:*:*)
  	echo m68k-bull-sysv3
! 	exit ;;
      9000/[34]??:4.3bsd:1.*:*)
  	echo m68k-hp-bsd
! 	exit ;;
      hp300:4.4BSD:*:* | 9000/[34]??:4.3bsd:2.*:*)
  	echo m68k-hp-bsd4.4
! 	exit ;;
      9000/[34678]??:HP-UX:*:*)
  	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`
  	case "${UNAME_MACHINE}" in
***************
*** 574,625 ****
  	    9000/[678][0-9][0-9])
  		if [ -x /usr/bin/getconf ]; then
  		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
!                     sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
!                     case "${sc_cpu_version}" in
!                       523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
!                       528) HP_ARCH="hppa1.1" ;; # CPU_PA_RISC1_1
!                       532)                      # CPU_PA_RISC2_0
!                         case "${sc_kernel_bits}" in
!                           32) HP_ARCH="hppa2.0n" ;;
!                           64) HP_ARCH="hppa2.0w" ;;
  			  '') HP_ARCH="hppa2.0" ;;   # HP-UX 10.20
!                         esac ;;
!                     esac
  		fi
  		if [ "${HP_ARCH}" = "" ]; then
  		    eval $set_cc_for_build
! 		    sed 's/^              //' << EOF >$dummy.c
  
!               #define _HPUX_SOURCE
!               #include <stdlib.h>
!               #include <unistd.h>
! 
!               int main ()
!               {
!               #if defined(_SC_KERNEL_BITS)
!                   long bits = sysconf(_SC_KERNEL_BITS);
!               #endif
!                   long cpu  = sysconf (_SC_CPU_VERSION);
! 
!                   switch (cpu)
!               	{
!               	case CPU_PA_RISC1_0: puts ("hppa1.0"); break;
!               	case CPU_PA_RISC1_1: puts ("hppa1.1"); break;
!               	case CPU_PA_RISC2_0:
!               #if defined(_SC_KERNEL_BITS)
!               	    switch (bits)
!               		{
!               		case 64: puts ("hppa2.0w"); break;
!               		case 32: puts ("hppa2.0n"); break;
!               		default: puts ("hppa2.0"); break;
!               		} break;
!               #else  /* !defined(_SC_KERNEL_BITS) */
!               	    puts ("hppa2.0"); break;
!               #endif
!               	default: puts ("hppa1.0"); break;
!               	}
!                   exit (0);
!               }
  EOF
  		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
  		    test -z "$HP_ARCH" && HP_ARCH=hppa
--- 615,666 ----
  	    9000/[678][0-9][0-9])
  		if [ -x /usr/bin/getconf ]; then
  		    sc_cpu_version=`/usr/bin/getconf SC_CPU_VERSION 2>/dev/null`
! 		    sc_kernel_bits=`/usr/bin/getconf SC_KERNEL_BITS 2>/dev/null`
! 		    case "${sc_cpu_version}" in
! 		      523) HP_ARCH="hppa1.0" ;; # CPU_PA_RISC1_0
! 		      528) HP_ARCH="hppa1.1" ;; # CPU_PA_RISC1_1
! 		      532)                      # CPU_PA_RISC2_0
! 			case "${sc_kernel_bits}" in
! 			  32) HP_ARCH="hppa2.0n" ;;
! 			  64) HP_ARCH="hppa2.0w" ;;
  			  '') HP_ARCH="hppa2.0" ;;   # HP-UX 10.20
! 			esac ;;
! 		    esac
  		fi
  		if [ "${HP_ARCH}" = "" ]; then
  		    eval $set_cc_for_build
! 		    sed 's/^		//' << EOF >$dummy.c
! 
! 		#define _HPUX_SOURCE
! 		#include <stdlib.h>
! 		#include <unistd.h>
  
! 		int main ()
! 		{
! 		#if defined(_SC_KERNEL_BITS)
! 		    long bits = sysconf(_SC_KERNEL_BITS);
! 		#endif
! 		    long cpu  = sysconf (_SC_CPU_VERSION);
! 
! 		    switch (cpu)
! 			{
! 			case CPU_PA_RISC1_0: puts ("hppa1.0"); break;
! 			case CPU_PA_RISC1_1: puts ("hppa1.1"); break;
! 			case CPU_PA_RISC2_0:
! 		#if defined(_SC_KERNEL_BITS)
! 			    switch (bits)
! 				{
! 				case 64: puts ("hppa2.0w"); break;
! 				case 32: puts ("hppa2.0n"); break;
! 				default: puts ("hppa2.0"); break;
! 				} break;
! 		#else  /* !defined(_SC_KERNEL_BITS) */
! 			    puts ("hppa2.0"); break;
! 		#endif
! 			default: puts ("hppa1.0"); break;
! 			}
! 		    exit (0);
! 		}
  EOF
  		    (CCOPTS= $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null) && HP_ARCH=`$dummy`
  		    test -z "$HP_ARCH" && HP_ARCH=hppa
***************
*** 627,635 ****
  	esac
  	if [ ${HP_ARCH} = "hppa2.0w" ]
  	then
! 	    # avoid double evaluation of $set_cc_for_build
! 	    test -n "$CC_FOR_BUILD" || eval $set_cc_for_build
! 	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E -) | grep __LP64__ >/dev/null
  	    then
  		HP_ARCH="hppa2.0w"
  	    else
--- 668,686 ----
  	esac
  	if [ ${HP_ARCH} = "hppa2.0w" ]
  	then
! 	    eval $set_cc_for_build
! 
! 	    # hppa2.0w-hp-hpux* has a 64-bit kernel and a compiler generating
! 	    # 32-bit code.  hppa64-hp-hpux* has the same kernel and a compiler
! 	    # generating 64-bit code.  GNU and HP use different nomenclature:
! 	    #
! 	    # $ CC_FOR_BUILD=cc ./config.guess
! 	    # => hppa2.0w-hp-hpux11.23
! 	    # $ CC_FOR_BUILD="cc +DA2.0w" ./config.guess
! 	    # => hppa64-hp-hpux11.23
! 
! 	    if echo __LP64__ | (CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) |
! 		grep -q __LP64__
  	    then
  		HP_ARCH="hppa2.0w"
  	    else
***************
*** 637,647 ****
  	    fi
  	fi
  	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
! 	exit 0 ;;
      ia64:HP-UX:*:*)
  	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`
  	echo ia64-hp-hpux${HPUX_REV}
! 	exit 0 ;;
      3050*:HI-UX:*:*)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
--- 688,698 ----
  	    fi
  	fi
  	echo ${HP_ARCH}-hp-hpux${HPUX_REV}
! 	exit ;;
      ia64:HP-UX:*:*)
  	HPUX_REV=`echo ${UNAME_RELEASE}|sed -e 's/[^.]*.[0B]*//'`
  	echo ia64-hp-hpux${HPUX_REV}
! 	exit ;;
      3050*:HI-UX:*:*)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
***************
*** 669,989 ****
  	  exit (0);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c && $dummy && exit 0
  	echo unknown-hitachi-hiuxwe2
! 	exit 0 ;;
      9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
  	echo hppa1.1-hp-bsd
! 	exit 0 ;;
      9000/8??:4.3bsd:*:*)
  	echo hppa1.0-hp-bsd
! 	exit 0 ;;
      *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
  	echo hppa1.0-hp-mpeix
! 	exit 0 ;;
      hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )
  	echo hppa1.1-hp-osf
! 	exit 0 ;;
      hp8??:OSF1:*:*)
  	echo hppa1.0-hp-osf
! 	exit 0 ;;
      i*86:OSF1:*:*)
  	if [ -x /usr/sbin/sysversion ] ; then
  	    echo ${UNAME_MACHINE}-unknown-osf1mk
  	else
  	    echo ${UNAME_MACHINE}-unknown-osf1
  	fi
! 	exit 0 ;;
      parisc*:Lites*:*:*)
  	echo hppa1.1-hp-lites
! 	exit 0 ;;
      C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
  	echo c1-convex-bsd
!         exit 0 ;;
      C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
  	if getsysinfo -f scalar_acc
  	then echo c32-convex-bsd
  	else echo c2-convex-bsd
  	fi
!         exit 0 ;;
      C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
  	echo c34-convex-bsd
!         exit 0 ;;
      C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
  	echo c38-convex-bsd
!         exit 0 ;;
      C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
  	echo c4-convex-bsd
!         exit 0 ;;
      CRAY*Y-MP:*:*:*)
  	echo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit 0 ;;
      CRAY*[A-Z]90:*:*:*)
  	echo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \
  	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
  	      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \
  	      -e 's/\.[^.]*$/.X/'
! 	exit 0 ;;
      CRAY*TS:*:*:*)
  	echo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit 0 ;;
      CRAY*T3E:*:*:*)
  	echo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit 0 ;;
      CRAY*SV1:*:*:*)
  	echo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit 0 ;;
      *:UNICOS/mp:*:*)
! 	echo nv1-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/' 
! 	exit 0 ;;
      F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
  	FUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
!         FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\///'`
!         FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`
!         echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
!         exit 0 ;;
      i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
  	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
! 	exit 0 ;;
      sparc*:BSD/OS:*:*)
  	echo sparc-unknown-bsdi${UNAME_RELEASE}
! 	exit 0 ;;
      *:BSD/OS:*:*)
  	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
! 	exit 0 ;;
!     *:FreeBSD:*:*|*:GNU/FreeBSD:*:*)
! 	# Determine whether the default compiler uses glibc.
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#include <features.h>
! 	#if __GLIBC__ >= 2
! 	LIBC=gnu
! 	#else
! 	LIBC=
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
! 	# GNU/FreeBSD systems have a "k" prefix to indicate we are using
! 	# FreeBSD's kernel, but not the complete OS.
! 	case ${LIBC} in gnu) kernel_only='k' ;; esac
! 	echo ${UNAME_MACHINE}-unknown-${kernel_only}freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`${LIBC:+-$LIBC}
! 	exit 0 ;;
      i*:CYGWIN*:*)
  	echo ${UNAME_MACHINE}-pc-cygwin
! 	exit 0 ;;
!     i*:MINGW*:*)
  	echo ${UNAME_MACHINE}-pc-mingw32
! 	exit 0 ;;
      i*:PW*:*)
  	echo ${UNAME_MACHINE}-pc-pw32
! 	exit 0 ;;
!     x86:Interix*:[34]*)
! 	echo i586-pc-interix${UNAME_RELEASE}|sed -e 's/\..*//'
! 	exit 0 ;;
      [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
  	echo i${UNAME_MACHINE}-pc-mks
! 	exit 0 ;;
      i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we
  	# UNAME_MACHINE based on the output of uname instead of i386?
  	echo i586-pc-interix
! 	exit 0 ;;
      i*:UWIN*:*)
  	echo ${UNAME_MACHINE}-pc-uwin
! 	exit 0 ;;
      p*:CYGWIN*:*)
  	echo powerpcle-unknown-cygwin
! 	exit 0 ;;
      prep*:SunOS:5.*:*)
  	echo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit 0 ;;
      *:GNU:*:*)
! 	echo `echo ${UNAME_MACHINE}|sed -e 's,[-/].*$,,'`-unknown-gnu`echo ${UNAME_RELEASE}|sed -e 's,/.*$,,'`
! 	exit 0 ;;
      i*86:Minix:*:*)
  	echo ${UNAME_MACHINE}-pc-minix
! 	exit 0 ;;
      arm*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
      cris:Linux:*:*)
! 	echo cris-axis-linux-gnu
! 	exit 0 ;;
      ia64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
      m68*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
!     mips:Linux:*:*)
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#undef CPU
! 	#undef mips
! 	#undef mipsel
! 	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
! 	CPU=mipsel
! 	#else
! 	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
! 	CPU=mips
! 	#else
! 	CPU=
! 	#endif
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
! 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
! 	;;
!     mips64:Linux:*:*)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
  	#undef CPU
! 	#undef mips64
! 	#undef mips64el
  	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
! 	CPU=mips64el
  	#else
  	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
! 	CPU=mips64
  	#else
  	CPU=
  	#endif
  	#endif
  EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^CPU=`
! 	test x"${CPU}" != x && echo "${CPU}-unknown-linux-gnu" && exit 0
  	;;
!     ppc:Linux:*:*)
! 	echo powerpc-unknown-linux-gnu
! 	exit 0 ;;
!     ppc64:Linux:*:*)
! 	echo powerpc64-unknown-linux-gnu
! 	exit 0 ;;
!     alpha:Linux:*:*)
! 	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
! 	  EV5)   UNAME_MACHINE=alphaev5 ;;
! 	  EV56)  UNAME_MACHINE=alphaev56 ;;
! 	  PCA56) UNAME_MACHINE=alphapca56 ;;
! 	  PCA57) UNAME_MACHINE=alphapca56 ;;
! 	  EV6)   UNAME_MACHINE=alphaev6 ;;
! 	  EV67)  UNAME_MACHINE=alphaev67 ;;
! 	  EV68*) UNAME_MACHINE=alphaev68 ;;
!         esac
! 	objdump --private-headers /bin/sh | grep ld.so.1 >/dev/null
! 	if test "$?" = 0 ; then LIBC="libc1" ; else LIBC="" ; fi
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu${LIBC}
! 	exit 0 ;;
      parisc:Linux:*:* | hppa:Linux:*:*)
  	# Look for CPU level
  	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
! 	  PA7*) echo hppa1.1-unknown-linux-gnu ;;
! 	  PA8*) echo hppa2.0-unknown-linux-gnu ;;
! 	  *)    echo hppa-unknown-linux-gnu ;;
  	esac
! 	exit 0 ;;
!     parisc64:Linux:*:* | hppa64:Linux:*:*)
! 	echo hppa64-unknown-linux-gnu
! 	exit 0 ;;
      s390:Linux:*:* | s390x:Linux:*:*)
! 	echo ${UNAME_MACHINE}-ibm-linux
! 	exit 0 ;;
      sh64*:Linux:*:*)
!     	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
      sh*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
      sparc:Linux:*:* | sparc64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-gnu
! 	exit 0 ;;
      x86_64:Linux:*:*)
! 	echo x86_64-unknown-linux-gnu
! 	exit 0 ;;
!     i*86:Linux:*:*)
! 	# The BFD linker knows what the default object file format is, so
! 	# first see if it will tell us. cd to the root directory to prevent
! 	# problems with other programs or directories called `ld' in the path.
! 	# Set LC_ALL=C to ensure ld outputs messages in English.
! 	ld_supported_targets=`cd /; LC_ALL=C ld --help 2>&1 \
! 			 | sed -ne '/supported targets:/!d
! 				    s/[ 	][ 	]*/ /g
! 				    s/.*supported targets: *//
! 				    s/ .*//
! 				    p'`
!         case "$ld_supported_targets" in
! 	  elf32-i386)
! 		TENTATIVE="${UNAME_MACHINE}-pc-linux-gnu"
! 		;;
! 	  a.out-i386-linux)
! 		echo "${UNAME_MACHINE}-pc-linux-gnuaout"
! 		exit 0 ;;
! 	  coff-i386)
! 		echo "${UNAME_MACHINE}-pc-linux-gnucoff"
! 		exit 0 ;;
! 	  "")
! 		# Either a pre-BFD a.out linker (linux-gnuoldld) or
! 		# one that does not give us useful --help.
! 		echo "${UNAME_MACHINE}-pc-linux-gnuoldld"
! 		exit 0 ;;
! 	esac
! 	# Determine whether the default compiler is a.out or elf
! 	eval $set_cc_for_build
! 	sed 's/^	//' << EOF >$dummy.c
! 	#include <features.h>
! 	#ifdef __ELF__
! 	# ifdef __GLIBC__
! 	#  if __GLIBC__ >= 2
! 	LIBC=gnu
! 	#  else
! 	LIBC=gnulibc1
! 	#  endif
! 	# else
! 	LIBC=gnulibc1
! 	# endif
! 	#else
! 	#ifdef __INTEL_COMPILER
! 	LIBC=gnu
! 	#else
! 	LIBC=gnuaout
! 	#endif
! 	#endif
! EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep ^LIBC=`
! 	test x"${LIBC}" != x && echo "${UNAME_MACHINE}-pc-linux-${LIBC}" && exit 0
! 	test x"${TENTATIVE}" != x && echo "${TENTATIVE}" && exit 0
! 	;;
      i*86:DYNIX/ptx:4*:*)
  	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
  	# earlier versions are messed up and put the nodename in both
  	# sysname and nodename.
  	echo i386-sequent-sysv4
! 	exit 0 ;;
      i*86:UNIX_SV:4.2MP:2.*)
!         # Unixware is an offshoot of SVR4, but it has its own version
!         # number series starting with 2...
!         # I am not positive that other SVR4 systems won't match this,
  	# I just have to hope.  -- rms.
!         # Use sysv4.2uw... so that sysv4* matches it.
  	echo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}
! 	exit 0 ;;
      i*86:OS/2:*:*)
  	# If we were able to find `uname', then EMX Unix compatibility
  	# is probably installed.
  	echo ${UNAME_MACHINE}-pc-os2-emx
! 	exit 0 ;;
      i*86:XTS-300:*:STOP)
  	echo ${UNAME_MACHINE}-unknown-stop
! 	exit 0 ;;
      i*86:atheos:*:*)
  	echo ${UNAME_MACHINE}-unknown-atheos
! 	exit 0 ;;
!     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.0*:*)
  	echo i386-unknown-lynxos${UNAME_RELEASE}
! 	exit 0 ;;
      i*86:*DOS:*:*)
  	echo ${UNAME_MACHINE}-pc-msdosdjgpp
! 	exit 0 ;;
      i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
  	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
  	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
--- 720,1064 ----
  	  exit (0);
  	}
  EOF
! 	$CC_FOR_BUILD -o $dummy $dummy.c && SYSTEM_NAME=`$dummy` &&
! 		{ echo "$SYSTEM_NAME"; exit; }
  	echo unknown-hitachi-hiuxwe2
! 	exit ;;
      9000/7??:4.3bsd:*:* | 9000/8?[79]:4.3bsd:*:* )
  	echo hppa1.1-hp-bsd
! 	exit ;;
      9000/8??:4.3bsd:*:*)
  	echo hppa1.0-hp-bsd
! 	exit ;;
      *9??*:MPE/iX:*:* | *3000*:MPE/iX:*:*)
  	echo hppa1.0-hp-mpeix
! 	exit ;;
      hp7??:OSF1:*:* | hp8?[79]:OSF1:*:* )
  	echo hppa1.1-hp-osf
! 	exit ;;
      hp8??:OSF1:*:*)
  	echo hppa1.0-hp-osf
! 	exit ;;
      i*86:OSF1:*:*)
  	if [ -x /usr/sbin/sysversion ] ; then
  	    echo ${UNAME_MACHINE}-unknown-osf1mk
  	else
  	    echo ${UNAME_MACHINE}-unknown-osf1
  	fi
! 	exit ;;
      parisc*:Lites*:*:*)
  	echo hppa1.1-hp-lites
! 	exit ;;
      C1*:ConvexOS:*:* | convex:ConvexOS:C1*:*)
  	echo c1-convex-bsd
! 	exit ;;
      C2*:ConvexOS:*:* | convex:ConvexOS:C2*:*)
  	if getsysinfo -f scalar_acc
  	then echo c32-convex-bsd
  	else echo c2-convex-bsd
  	fi
! 	exit ;;
      C34*:ConvexOS:*:* | convex:ConvexOS:C34*:*)
  	echo c34-convex-bsd
! 	exit ;;
      C38*:ConvexOS:*:* | convex:ConvexOS:C38*:*)
  	echo c38-convex-bsd
! 	exit ;;
      C4*:ConvexOS:*:* | convex:ConvexOS:C4*:*)
  	echo c4-convex-bsd
! 	exit ;;
      CRAY*Y-MP:*:*:*)
  	echo ymp-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit ;;
      CRAY*[A-Z]90:*:*:*)
  	echo ${UNAME_MACHINE}-cray-unicos${UNAME_RELEASE} \
  	| sed -e 's/CRAY.*\([A-Z]90\)/\1/' \
  	      -e y/ABCDEFGHIJKLMNOPQRSTUVWXYZ/abcdefghijklmnopqrstuvwxyz/ \
  	      -e 's/\.[^.]*$/.X/'
! 	exit ;;
      CRAY*TS:*:*:*)
  	echo t90-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit ;;
      CRAY*T3E:*:*:*)
  	echo alphaev5-cray-unicosmk${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit ;;
      CRAY*SV1:*:*:*)
  	echo sv1-cray-unicos${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit ;;
      *:UNICOS/mp:*:*)
! 	echo craynv-cray-unicosmp${UNAME_RELEASE} | sed -e 's/\.[^.]*$/.X/'
! 	exit ;;
      F30[01]:UNIX_System_V:*:* | F700:UNIX_System_V:*:*)
  	FUJITSU_PROC=`uname -m | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz'`
! 	FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\///'`
! 	FUJITSU_REL=`echo ${UNAME_RELEASE} | sed -e 's/ /_/'`
! 	echo "${FUJITSU_PROC}-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
! 	exit ;;
!     5000:UNIX_System_V:4.*:*)
! 	FUJITSU_SYS=`uname -p | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/\///'`
! 	FUJITSU_REL=`echo ${UNAME_RELEASE} | tr 'ABCDEFGHIJKLMNOPQRSTUVWXYZ' 'abcdefghijklmnopqrstuvwxyz' | sed -e 's/ /_/'`
! 	echo "sparc-fujitsu-${FUJITSU_SYS}${FUJITSU_REL}"
! 	exit ;;
      i*86:BSD/386:*:* | i*86:BSD/OS:*:* | *:Ascend\ Embedded/OS:*:*)
  	echo ${UNAME_MACHINE}-pc-bsdi${UNAME_RELEASE}
! 	exit ;;
      sparc*:BSD/OS:*:*)
  	echo sparc-unknown-bsdi${UNAME_RELEASE}
! 	exit ;;
      *:BSD/OS:*:*)
  	echo ${UNAME_MACHINE}-unknown-bsdi${UNAME_RELEASE}
! 	exit ;;
!     *:FreeBSD:*:*)
! 	UNAME_PROCESSOR=`/usr/bin/uname -p`
! 	case ${UNAME_PROCESSOR} in
! 	    amd64)
! 		echo x86_64-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
! 	    *)
! 		echo ${UNAME_PROCESSOR}-unknown-freebsd`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'` ;;
! 	esac
! 	exit ;;
      i*:CYGWIN*:*)
  	echo ${UNAME_MACHINE}-pc-cygwin
! 	exit ;;
!     *:MINGW64*:*)
! 	echo ${UNAME_MACHINE}-pc-mingw64
! 	exit ;;
!     *:MINGW*:*)
  	echo ${UNAME_MACHINE}-pc-mingw32
! 	exit ;;
!     *:MSYS*:*)
! 	echo ${UNAME_MACHINE}-pc-msys
! 	exit ;;
!     i*:windows32*:*)
! 	# uname -m includes "-pc" on this system.
! 	echo ${UNAME_MACHINE}-mingw32
! 	exit ;;
      i*:PW*:*)
  	echo ${UNAME_MACHINE}-pc-pw32
! 	exit ;;
!     *:Interix*:*)
! 	case ${UNAME_MACHINE} in
! 	    x86)
! 		echo i586-pc-interix${UNAME_RELEASE}
! 		exit ;;
! 	    authenticamd | genuineintel | EM64T)
! 		echo x86_64-unknown-interix${UNAME_RELEASE}
! 		exit ;;
! 	    IA64)
! 		echo ia64-unknown-interix${UNAME_RELEASE}
! 		exit ;;
! 	esac ;;
      [345]86:Windows_95:* | [345]86:Windows_98:* | [345]86:Windows_NT:*)
  	echo i${UNAME_MACHINE}-pc-mks
! 	exit ;;
!     8664:Windows_NT:*)
! 	echo x86_64-pc-mks
! 	exit ;;
      i*:Windows_NT*:* | Pentium*:Windows_NT*:*)
  	# How do we know it's Interix rather than the generic POSIX subsystem?
  	# It also conflicts with pre-2.0 versions of AT&T UWIN. Should we
  	# UNAME_MACHINE based on the output of uname instead of i386?
  	echo i586-pc-interix
! 	exit ;;
      i*:UWIN*:*)
  	echo ${UNAME_MACHINE}-pc-uwin
! 	exit ;;
!     amd64:CYGWIN*:*:* | x86_64:CYGWIN*:*:*)
! 	echo x86_64-unknown-cygwin
! 	exit ;;
      p*:CYGWIN*:*)
  	echo powerpcle-unknown-cygwin
! 	exit ;;
      prep*:SunOS:5.*:*)
  	echo powerpcle-unknown-solaris2`echo ${UNAME_RELEASE}|sed -e 's/[^.]*//'`
! 	exit ;;
      *:GNU:*:*)
! 	# the GNU system
! 	echo `echo ${UNAME_MACHINE}|sed -e 's,[-/].*$,,'`-unknown-${LIBC}`echo ${UNAME_RELEASE}|sed -e 's,/.*$,,'`
! 	exit ;;
!     *:GNU/*:*:*)
! 	# other systems with GNU libc and userland
! 	echo ${UNAME_MACHINE}-unknown-`echo ${UNAME_SYSTEM} | sed 's,^[^/]*/,,' | tr '[A-Z]' '[a-z]'``echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`-${LIBC}
! 	exit ;;
      i*86:Minix:*:*)
  	echo ${UNAME_MACHINE}-pc-minix
! 	exit ;;
!     aarch64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     aarch64_be:Linux:*:*)
! 	UNAME_MACHINE=aarch64_be
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     alpha:Linux:*:*)
! 	case `sed -n '/^cpu model/s/^.*: \(.*\)/\1/p' < /proc/cpuinfo` in
! 	  EV5)   UNAME_MACHINE=alphaev5 ;;
! 	  EV56)  UNAME_MACHINE=alphaev56 ;;
! 	  PCA56) UNAME_MACHINE=alphapca56 ;;
! 	  PCA57) UNAME_MACHINE=alphapca56 ;;
! 	  EV6)   UNAME_MACHINE=alphaev6 ;;
! 	  EV67)  UNAME_MACHINE=alphaev67 ;;
! 	  EV68*) UNAME_MACHINE=alphaev68 ;;
! 	esac
! 	objdump --private-headers /bin/sh | grep -q ld.so.1
! 	if test "$?" = 0 ; then LIBC="gnulibc1" ; fi
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     arc:Linux:*:* | arceb:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      arm*:Linux:*:*)
! 	eval $set_cc_for_build
! 	if echo __ARM_EABI__ | $CC_FOR_BUILD -E - 2>/dev/null \
! 	    | grep -q __ARM_EABI__
! 	then
! 	    echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	else
! 	    if echo __ARM_PCS_VFP | $CC_FOR_BUILD -E - 2>/dev/null \
! 		| grep -q __ARM_PCS_VFP
! 	    then
! 		echo ${UNAME_MACHINE}-unknown-linux-${LIBC}eabi
! 	    else
! 		echo ${UNAME_MACHINE}-unknown-linux-${LIBC}eabihf
! 	    fi
! 	fi
! 	exit ;;
!     avr32*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      cris:Linux:*:*)
! 	echo ${UNAME_MACHINE}-axis-linux-${LIBC}
! 	exit ;;
!     crisv32:Linux:*:*)
! 	echo ${UNAME_MACHINE}-axis-linux-${LIBC}
! 	exit ;;
!     frv:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     hexagon:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     i*86:Linux:*:*)
! 	echo ${UNAME_MACHINE}-pc-linux-${LIBC}
! 	exit ;;
      ia64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     m32r*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      m68*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     mips:Linux:*:* | mips64:Linux:*:*)
  	eval $set_cc_for_build
  	sed 's/^	//' << EOF >$dummy.c
  	#undef CPU
! 	#undef ${UNAME_MACHINE}
! 	#undef ${UNAME_MACHINE}el
  	#if defined(__MIPSEL__) || defined(__MIPSEL) || defined(_MIPSEL) || defined(MIPSEL)
! 	CPU=${UNAME_MACHINE}el
  	#else
  	#if defined(__MIPSEB__) || defined(__MIPSEB) || defined(_MIPSEB) || defined(MIPSEB)
! 	CPU=${UNAME_MACHINE}
  	#else
  	CPU=
  	#endif
  	#endif
  EOF
! 	eval `$CC_FOR_BUILD -E $dummy.c 2>/dev/null | grep '^CPU'`
! 	test x"${CPU}" != x && { echo "${CPU}-unknown-linux-${LIBC}"; exit; }
  	;;
!     openrisc*:Linux:*:*)
! 	echo or1k-unknown-linux-${LIBC}
! 	exit ;;
!     or32:Linux:*:* | or1k*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     padre:Linux:*:*)
! 	echo sparc-unknown-linux-${LIBC}
! 	exit ;;
!     parisc64:Linux:*:* | hppa64:Linux:*:*)
! 	echo hppa64-unknown-linux-${LIBC}
! 	exit ;;
      parisc:Linux:*:* | hppa:Linux:*:*)
  	# Look for CPU level
  	case `grep '^cpu[^a-z]*:' /proc/cpuinfo 2>/dev/null | cut -d' ' -f2` in
! 	  PA7*) echo hppa1.1-unknown-linux-${LIBC} ;;
! 	  PA8*) echo hppa2.0-unknown-linux-${LIBC} ;;
! 	  *)    echo hppa-unknown-linux-${LIBC} ;;
  	esac
! 	exit ;;
!     ppc64:Linux:*:*)
! 	echo powerpc64-unknown-linux-${LIBC}
! 	exit ;;
!     ppc:Linux:*:*)
! 	echo powerpc-unknown-linux-${LIBC}
! 	exit ;;
!     ppc64le:Linux:*:*)
! 	echo powerpc64le-unknown-linux-${LIBC}
! 	exit ;;
!     ppcle:Linux:*:*)
! 	echo powerpcle-unknown-linux-${LIBC}
! 	exit ;;
      s390:Linux:*:* | s390x:Linux:*:*)
! 	echo ${UNAME_MACHINE}-ibm-linux-${LIBC}
! 	exit ;;
      sh64*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      sh*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      sparc:Linux:*:* | sparc64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     tile*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     vax:Linux:*:*)
! 	echo ${UNAME_MACHINE}-dec-linux-${LIBC}
! 	exit ;;
      x86_64:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
!     xtensa*:Linux:*:*)
! 	echo ${UNAME_MACHINE}-unknown-linux-${LIBC}
! 	exit ;;
      i*86:DYNIX/ptx:4*:*)
  	# ptx 4.0 does uname -s correctly, with DYNIX/ptx in there.
  	# earlier versions are messed up and put the nodename in both
  	# sysname and nodename.
  	echo i386-sequent-sysv4
! 	exit ;;
      i*86:UNIX_SV:4.2MP:2.*)
! 	# Unixware is an offshoot of SVR4, but it has its own version
! 	# number series starting with 2...
! 	# I am not positive that other SVR4 systems won't match this,
  	# I just have to hope.  -- rms.
! 	# Use sysv4.2uw... so that sysv4* matches it.
  	echo ${UNAME_MACHINE}-pc-sysv4.2uw${UNAME_VERSION}
! 	exit ;;
      i*86:OS/2:*:*)
  	# If we were able to find `uname', then EMX Unix compatibility
  	# is probably installed.
  	echo ${UNAME_MACHINE}-pc-os2-emx
! 	exit ;;
      i*86:XTS-300:*:STOP)
  	echo ${UNAME_MACHINE}-unknown-stop
! 	exit ;;
      i*86:atheos:*:*)
  	echo ${UNAME_MACHINE}-unknown-atheos
! 	exit ;;
!     i*86:syllable:*:*)
! 	echo ${UNAME_MACHINE}-pc-syllable
! 	exit ;;
!     i*86:LynxOS:2.*:* | i*86:LynxOS:3.[01]*:* | i*86:LynxOS:4.[02]*:*)
  	echo i386-unknown-lynxos${UNAME_RELEASE}
! 	exit ;;
      i*86:*DOS:*:*)
  	echo ${UNAME_MACHINE}-pc-msdosdjgpp
! 	exit ;;
      i*86:*:4.*:* | i*86:SYSTEM_V:4.*:*)
  	UNAME_REL=`echo ${UNAME_RELEASE} | sed 's/\/MP$//'`
  	if grep Novell /usr/include/link.h >/dev/null 2>/dev/null; then
***************
*** 991,1005 ****
  	else
  		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
  	fi
! 	exit 0 ;;
!     i*86:*:5:[78]*)
  	case `/bin/uname -X | grep "^Machine"` in
  	    *486*)	     UNAME_MACHINE=i486 ;;
  	    *Pentium)	     UNAME_MACHINE=i586 ;;
  	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
  	esac
  	echo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
! 	exit 0 ;;
      i*86:*:3.2:*)
  	if test -f /usr/options/cb.name; then
  		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
--- 1066,1081 ----
  	else
  		echo ${UNAME_MACHINE}-pc-sysv${UNAME_REL}
  	fi
! 	exit ;;
!     i*86:*:5:[678]*)
! 	# UnixWare 7.x, OpenUNIX and OpenServer 6.
  	case `/bin/uname -X | grep "^Machine"` in
  	    *486*)	     UNAME_MACHINE=i486 ;;
  	    *Pentium)	     UNAME_MACHINE=i586 ;;
  	    *Pent*|*Celeron) UNAME_MACHINE=i686 ;;
  	esac
  	echo ${UNAME_MACHINE}-unknown-sysv${UNAME_RELEASE}${UNAME_SYSTEM}${UNAME_VERSION}
! 	exit ;;
      i*86:*:3.2:*)
  	if test -f /usr/options/cb.name; then
  		UNAME_REL=`sed -n 's/.*Version //p' </usr/options/cb.name`
***************
*** 1017,1089 ****
  	else
  		echo ${UNAME_MACHINE}-pc-sysv32
  	fi
! 	exit 0 ;;
      pc:*:*:*)
  	# Left here for compatibility:
!         # uname -m prints for DJGPP always 'pc', but it prints nothing about
!         # the processor, so we play safe by assuming i386.
! 	echo i386-pc-msdosdjgpp
!         exit 0 ;;
      Intel:Mach:3*:*)
  	echo i386-pc-mach3
! 	exit 0 ;;
      paragon:*:*:*)
  	echo i860-intel-osf1
! 	exit 0 ;;
      i860:*:4.*:*) # i860-SVR4
  	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
  	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
  	else # Add other i860-SVR4 vendors below as they are discovered.
  	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
  	fi
! 	exit 0 ;;
      mini*:CTIX:SYS*5:*)
  	# "miniframe"
  	echo m68010-convergent-sysv
! 	exit 0 ;;
      mc68k:UNIX:SYSTEM5:3.51m)
  	echo m68k-convergent-sysv
! 	exit 0 ;;
      M680?0:D-NIX:5.3:*)
  	echo m68k-diab-dnix
! 	exit 0 ;;
!     M68*:*:R3V[567]*:*)
! 	test -r /sysV68 && echo 'm68k-motorola-sysv' && exit 0 ;;
!     3[34]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0)
  	OS_REL=''
  	test -r /etc/.relid \
  	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
  	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
! 	  && echo i486-ncr-sysv4.3${OS_REL} && exit 0
  	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
! 	  && echo i586-ncr-sysv4.3${OS_REL} && exit 0 ;;
      3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
!         /bin/uname -p 2>/dev/null | grep 86 >/dev/null \
!           && echo i486-ncr-sysv4 && exit 0 ;;
      m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
  	echo m68k-unknown-lynxos${UNAME_RELEASE}
! 	exit 0 ;;
      mc68030:UNIX_System_V:4.*:*)
  	echo m68k-atari-sysv4
! 	exit 0 ;;
      TSUNAMI:LynxOS:2.*:*)
  	echo sparc-unknown-lynxos${UNAME_RELEASE}
! 	exit 0 ;;
      rs6000:LynxOS:2.*:*)
  	echo rs6000-unknown-lynxos${UNAME_RELEASE}
! 	exit 0 ;;
!     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.0*:*)
  	echo powerpc-unknown-lynxos${UNAME_RELEASE}
! 	exit 0 ;;
      SM[BE]S:UNIX_SV:*:*)
  	echo mips-dde-sysv${UNAME_RELEASE}
! 	exit 0 ;;
      RM*:ReliantUNIX-*:*:*)
  	echo mips-sni-sysv4
! 	exit 0 ;;
      RM*:SINIX-*:*:*)
  	echo mips-sni-sysv4
! 	exit 0 ;;
      *:SINIX-*:*:*)
  	if uname -p 2>/dev/null >/dev/null ; then
  		UNAME_MACHINE=`(uname -p) 2>/dev/null`
--- 1093,1178 ----
  	else
  		echo ${UNAME_MACHINE}-pc-sysv32
  	fi
! 	exit ;;
      pc:*:*:*)
  	# Left here for compatibility:
! 	# uname -m prints for DJGPP always 'pc', but it prints nothing about
! 	# the processor, so we play safe by assuming i586.
! 	# Note: whatever this is, it MUST be the same as what config.sub
! 	# prints for the "djgpp" host, or else GDB configury will decide that
! 	# this is a cross-build.
! 	echo i586-pc-msdosdjgpp
! 	exit ;;
      Intel:Mach:3*:*)
  	echo i386-pc-mach3
! 	exit ;;
      paragon:*:*:*)
  	echo i860-intel-osf1
! 	exit ;;
      i860:*:4.*:*) # i860-SVR4
  	if grep Stardent /usr/include/sys/uadmin.h >/dev/null 2>&1 ; then
  	  echo i860-stardent-sysv${UNAME_RELEASE} # Stardent Vistra i860-SVR4
  	else # Add other i860-SVR4 vendors below as they are discovered.
  	  echo i860-unknown-sysv${UNAME_RELEASE}  # Unknown i860-SVR4
  	fi
! 	exit ;;
      mini*:CTIX:SYS*5:*)
  	# "miniframe"
  	echo m68010-convergent-sysv
! 	exit ;;
      mc68k:UNIX:SYSTEM5:3.51m)
  	echo m68k-convergent-sysv
! 	exit ;;
      M680?0:D-NIX:5.3:*)
  	echo m68k-diab-dnix
! 	exit ;;
!     M68*:*:R3V[5678]*:*)
! 	test -r /sysV68 && { echo 'm68k-motorola-sysv'; exit; } ;;
!     3[345]??:*:4.0:3.0 | 3[34]??A:*:4.0:3.0 | 3[34]??,*:*:4.0:3.0 | 3[34]??/*:*:4.0:3.0 | 4400:*:4.0:3.0 | 4850:*:4.0:3.0 | SKA40:*:4.0:3.0 | SDS2:*:4.0:3.0 | SHG2:*:4.0:3.0 | S7501*:*:4.0:3.0)
  	OS_REL=''
  	test -r /etc/.relid \
  	&& OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
  	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
! 	  && { echo i486-ncr-sysv4.3${OS_REL}; exit; }
  	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
! 	  && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;
      3[34]??:*:4.0:* | 3[34]??,*:*:4.0:*)
! 	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
! 	  && { echo i486-ncr-sysv4; exit; } ;;
!     NCR*:*:4.2:* | MPRAS*:*:4.2:*)
! 	OS_REL='.3'
! 	test -r /etc/.relid \
! 	    && OS_REL=.`sed -n 's/[^ ]* [^ ]* \([0-9][0-9]\).*/\1/p' < /etc/.relid`
! 	/bin/uname -p 2>/dev/null | grep 86 >/dev/null \
! 	    && { echo i486-ncr-sysv4.3${OS_REL}; exit; }
! 	/bin/uname -p 2>/dev/null | /bin/grep entium >/dev/null \
! 	    && { echo i586-ncr-sysv4.3${OS_REL}; exit; }
! 	/bin/uname -p 2>/dev/null | /bin/grep pteron >/dev/null \
! 	    && { echo i586-ncr-sysv4.3${OS_REL}; exit; } ;;
      m68*:LynxOS:2.*:* | m68*:LynxOS:3.0*:*)
  	echo m68k-unknown-lynxos${UNAME_RELEASE}
! 	exit ;;
      mc68030:UNIX_System_V:4.*:*)
  	echo m68k-atari-sysv4
! 	exit ;;
      TSUNAMI:LynxOS:2.*:*)
  	echo sparc-unknown-lynxos${UNAME_RELEASE}
! 	exit ;;
      rs6000:LynxOS:2.*:*)
  	echo rs6000-unknown-lynxos${UNAME_RELEASE}
! 	exit ;;
!     PowerPC:LynxOS:2.*:* | PowerPC:LynxOS:3.[01]*:* | PowerPC:LynxOS:4.[02]*:*)
  	echo powerpc-unknown-lynxos${UNAME_RELEASE}
! 	exit ;;
      SM[BE]S:UNIX_SV:*:*)
  	echo mips-dde-sysv${UNAME_RELEASE}
! 	exit ;;
      RM*:ReliantUNIX-*:*:*)
  	echo mips-sni-sysv4
! 	exit ;;
      RM*:SINIX-*:*:*)
  	echo mips-sni-sysv4
! 	exit ;;
      *:SINIX-*:*:*)
  	if uname -p 2>/dev/null >/dev/null ; then
  		UNAME_MACHINE=`(uname -p) 2>/dev/null`
***************
*** 1091,1158 ****
  	else
  		echo ns32k-sni-sysv
  	fi
! 	exit 0 ;;
!     PENTIUM:*:4.0*:*) # Unisys `ClearPath HMP IX 4000' SVR4/MP effort
!                       # says <Richard.M.Bartel@ccMail.Census.GOV>
!         echo i586-unisys-sysv4
!         exit 0 ;;
      *:UNIX_System_V:4*:FTX*)
  	# From Gerald Hewes <hewes@openmarket.com>.
  	# How about differentiating between stratus architectures? -djm
  	echo hppa1.1-stratus-sysv4
! 	exit 0 ;;
      *:*:*:FTX*)
  	# From seanf@swdc.stratus.com.
  	echo i860-stratus-sysv4
! 	exit 0 ;;
      *:VOS:*:*)
  	# From Paul.Green@stratus.com.
  	echo hppa1.1-stratus-vos
! 	exit 0 ;;
      mc68*:A/UX:*:*)
  	echo m68k-apple-aux${UNAME_RELEASE}
! 	exit 0 ;;
      news*:NEWS-OS:6*:*)
  	echo mips-sony-newsos6
! 	exit 0 ;;
      R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
  	if [ -d /usr/nec ]; then
! 	        echo mips-nec-sysv${UNAME_RELEASE}
  	else
! 	        echo mips-unknown-sysv${UNAME_RELEASE}
  	fi
!         exit 0 ;;
      BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
  	echo powerpc-be-beos
! 	exit 0 ;;
      BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
  	echo powerpc-apple-beos
! 	exit 0 ;;
      BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
  	echo i586-pc-beos
! 	exit 0 ;;
      SX-4:SUPER-UX:*:*)
  	echo sx4-nec-superux${UNAME_RELEASE}
! 	exit 0 ;;
      SX-5:SUPER-UX:*:*)
  	echo sx5-nec-superux${UNAME_RELEASE}
! 	exit 0 ;;
      SX-6:SUPER-UX:*:*)
  	echo sx6-nec-superux${UNAME_RELEASE}
! 	exit 0 ;;
      Power*:Rhapsody:*:*)
  	echo powerpc-apple-rhapsody${UNAME_RELEASE}
! 	exit 0 ;;
      *:Rhapsody:*:*)
  	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
! 	exit 0 ;;
      *:Darwin:*:*)
! 	case `uname -p` in
! 	    *86) UNAME_PROCESSOR=i686 ;;
! 	    powerpc) UNAME_PROCESSOR=powerpc ;;
! 	esac
  	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
! 	exit 0 ;;
      *:procnto*:*:* | *:QNX:[0123456789]*:*)
  	UNAME_PROCESSOR=`uname -p`
  	if test "$UNAME_PROCESSOR" = "x86"; then
--- 1180,1288 ----
  	else
  		echo ns32k-sni-sysv
  	fi
! 	exit ;;
!     PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
! 			# says <Richard.M.Bartel@ccMail.Census.GOV>
! 	echo i586-unisys-sysv4
! 	exit ;;
      *:UNIX_System_V:4*:FTX*)
  	# From Gerald Hewes <hewes@openmarket.com>.
  	# How about differentiating between stratus architectures? -djm
  	echo hppa1.1-stratus-sysv4
! 	exit ;;
      *:*:*:FTX*)
  	# From seanf@swdc.stratus.com.
  	echo i860-stratus-sysv4
! 	exit ;;
!     i*86:VOS:*:*)
! 	# From Paul.Green@stratus.com.
! 	echo ${UNAME_MACHINE}-stratus-vos
! 	exit ;;
      *:VOS:*:*)
  	# From Paul.Green@stratus.com.
  	echo hppa1.1-stratus-vos
! 	exit ;;
      mc68*:A/UX:*:*)
  	echo m68k-apple-aux${UNAME_RELEASE}
! 	exit ;;
      news*:NEWS-OS:6*:*)
  	echo mips-sony-newsos6
! 	exit ;;
      R[34]000:*System_V*:*:* | R4000:UNIX_SYSV:*:* | R*000:UNIX_SV:*:*)
  	if [ -d /usr/nec ]; then
! 		echo mips-nec-sysv${UNAME_RELEASE}
  	else
! 		echo mips-unknown-sysv${UNAME_RELEASE}
  	fi
! 	exit ;;
      BeBox:BeOS:*:*)	# BeOS running on hardware made by Be, PPC only.
  	echo powerpc-be-beos
! 	exit ;;
      BeMac:BeOS:*:*)	# BeOS running on Mac or Mac clone, PPC only.
  	echo powerpc-apple-beos
! 	exit ;;
      BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
  	echo i586-pc-beos
! 	exit ;;
!     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
! 	echo i586-pc-haiku
! 	exit ;;
!     x86_64:Haiku:*:*)
! 	echo x86_64-unknown-haiku
! 	exit ;;
      SX-4:SUPER-UX:*:*)
  	echo sx4-nec-superux${UNAME_RELEASE}
! 	exit ;;
      SX-5:SUPER-UX:*:*)
  	echo sx5-nec-superux${UNAME_RELEASE}
! 	exit ;;
      SX-6:SUPER-UX:*:*)
  	echo sx6-nec-superux${UNAME_RELEASE}
! 	exit ;;
!     SX-7:SUPER-UX:*:*)
! 	echo sx7-nec-superux${UNAME_RELEASE}
! 	exit ;;
!     SX-8:SUPER-UX:*:*)
! 	echo sx8-nec-superux${UNAME_RELEASE}
! 	exit ;;
!     SX-8R:SUPER-UX:*:*)
! 	echo sx8r-nec-superux${UNAME_RELEASE}
! 	exit ;;
      Power*:Rhapsody:*:*)
  	echo powerpc-apple-rhapsody${UNAME_RELEASE}
! 	exit ;;
      *:Rhapsody:*:*)
  	echo ${UNAME_MACHINE}-apple-rhapsody${UNAME_RELEASE}
! 	exit ;;
      *:Darwin:*:*)
! 	UNAME_PROCESSOR=`uname -p` || UNAME_PROCESSOR=unknown
! 	eval $set_cc_for_build
! 	if test "$UNAME_PROCESSOR" = unknown ; then
! 	    UNAME_PROCESSOR=powerpc
! 	fi
! 	if test `echo "$UNAME_RELEASE" | sed -e 's/\..*//'` -le 10 ; then
! 	    if [ "$CC_FOR_BUILD" != 'no_compiler_found' ]; then
! 		if (echo '#ifdef __LP64__'; echo IS_64BIT_ARCH; echo '#endif') | \
! 		    (CCOPTS= $CC_FOR_BUILD -E - 2>/dev/null) | \
! 		    grep IS_64BIT_ARCH >/dev/null
! 		then
! 		    case $UNAME_PROCESSOR in
! 			i386) UNAME_PROCESSOR=x86_64 ;;
! 			powerpc) UNAME_PROCESSOR=powerpc64 ;;
! 		    esac
! 		fi
! 	    fi
! 	elif test "$UNAME_PROCESSOR" = i386 ; then
! 	    # Avoid executing cc on OS X 10.9, as it ships with a stub
! 	    # that puts up a graphical alert prompting to install
! 	    # developer tools.  Any system running Mac OS X 10.7 or
! 	    # later (Darwin 11 and later) is required to have a 64-bit
! 	    # processor. This is not true of the ARM version of Darwin
! 	    # that Apple uses in portable devices.
! 	    UNAME_PROCESSOR=x86_64
! 	fi
  	echo ${UNAME_PROCESSOR}-apple-darwin${UNAME_RELEASE}
! 	exit ;;
      *:procnto*:*:* | *:QNX:[0123456789]*:*)
  	UNAME_PROCESSOR=`uname -p`
  	if test "$UNAME_PROCESSOR" = "x86"; then
***************
*** 1160,1181 ****
  		UNAME_MACHINE=pc
  	fi
  	echo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}
! 	exit 0 ;;
      *:QNX:*:4*)
  	echo i386-pc-qnx
! 	exit 0 ;;
!     NSR-[DGKLNPTVW]:NONSTOP_KERNEL:*:*)
  	echo nsr-tandem-nsk${UNAME_RELEASE}
! 	exit 0 ;;
      *:NonStop-UX:*:*)
  	echo mips-compaq-nonstopux
! 	exit 0 ;;
      BS2000:POSIX*:*:*)
  	echo bs2000-siemens-sysv
! 	exit 0 ;;
      DS/*:UNIX_System_V:*:*)
  	echo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}
! 	exit 0 ;;
      *:Plan9:*:*)
  	# "uname -m" is not consistent, so use $cputype instead. 386
  	# is converted to i386 for consistency with other x86
--- 1290,1317 ----
  		UNAME_MACHINE=pc
  	fi
  	echo ${UNAME_PROCESSOR}-${UNAME_MACHINE}-nto-qnx${UNAME_RELEASE}
! 	exit ;;
      *:QNX:*:4*)
  	echo i386-pc-qnx
! 	exit ;;
!     NEO-?:NONSTOP_KERNEL:*:*)
! 	echo neo-tandem-nsk${UNAME_RELEASE}
! 	exit ;;
!     NSE-*:NONSTOP_KERNEL:*:*)
! 	echo nse-tandem-nsk${UNAME_RELEASE}
! 	exit ;;
!     NSR-?:NONSTOP_KERNEL:*:*)
  	echo nsr-tandem-nsk${UNAME_RELEASE}
! 	exit ;;
      *:NonStop-UX:*:*)
  	echo mips-compaq-nonstopux
! 	exit ;;
      BS2000:POSIX*:*:*)
  	echo bs2000-siemens-sysv
! 	exit ;;
      DS/*:UNIX_System_V:*:*)
  	echo ${UNAME_MACHINE}-${UNAME_SYSTEM}-${UNAME_RELEASE}
! 	exit ;;
      *:Plan9:*:*)
  	# "uname -m" is not consistent, so use $cputype instead. 386
  	# is converted to i386 for consistency with other x86
***************
*** 1186,1365 ****
  	    UNAME_MACHINE="$cputype"
  	fi
  	echo ${UNAME_MACHINE}-unknown-plan9
! 	exit 0 ;;
      *:TOPS-10:*:*)
  	echo pdp10-unknown-tops10
! 	exit 0 ;;
      *:TENEX:*:*)
  	echo pdp10-unknown-tenex
! 	exit 0 ;;
      KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
  	echo pdp10-dec-tops20
! 	exit 0 ;;
      XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
  	echo pdp10-xkl-tops20
! 	exit 0 ;;
      *:TOPS-20:*:*)
  	echo pdp10-unknown-tops20
! 	exit 0 ;;
      *:ITS:*:*)
  	echo pdp10-unknown-its
! 	exit 0 ;;
      SEI:*:*:SEIUX)
!         echo mips-sei-seiux${UNAME_RELEASE}
! 	exit 0 ;;
  esac
  
- #echo '(No uname command or uname output not recognized.)' 1>&2
- #echo "${UNAME_MACHINE}:${UNAME_SYSTEM}:${UNAME_RELEASE}:${UNAME_VERSION}" 1>&2
- 
- eval $set_cc_for_build
- cat >$dummy.c <<EOF
- #ifdef _SEQUENT_
- # include <sys/types.h>
- # include <sys/utsname.h>
- #endif
- main ()
- {
- #if defined (sony)
- #if defined (MIPSEB)
-   /* BFD wants "bsd" instead of "newsos".  Perhaps BFD should be changed,
-      I don't know....  */
-   printf ("mips-sony-bsd\n"); exit (0);
- #else
- #include <sys/param.h>
-   printf ("m68k-sony-newsos%s\n",
- #ifdef NEWSOS4
-           "4"
- #else
- 	  ""
- #endif
-          ); exit (0);
- #endif
- #endif
- 
- #if defined (__arm) && defined (__acorn) && defined (__unix)
-   printf ("arm-acorn-riscix"); exit (0);
- #endif
- 
- #if defined (hp300) && !defined (hpux)
-   printf ("m68k-hp-bsd\n"); exit (0);
- #endif
- 
- #if defined (NeXT)
- #if !defined (__ARCHITECTURE__)
- #define __ARCHITECTURE__ "m68k"
- #endif
-   int version;
-   version=`(hostinfo | sed -n 's/.*NeXT Mach \([0-9]*\).*/\1/p') 2>/dev/null`;
-   if (version < 4)
-     printf ("%s-next-nextstep%d\n", __ARCHITECTURE__, version);
-   else
-     printf ("%s-next-openstep%d\n", __ARCHITECTURE__, version);
-   exit (0);
- #endif
- 
- #if defined (MULTIMAX) || defined (n16)
- #if defined (UMAXV)
-   printf ("ns32k-encore-sysv\n"); exit (0);
- #else
- #if defined (CMU)
-   printf ("ns32k-encore-mach\n"); exit (0);
- #else
-   printf ("ns32k-encore-bsd\n"); exit (0);
- #endif
- #endif
- #endif
- 
- #if defined (__386BSD__)
-   printf ("i386-pc-bsd\n"); exit (0);
- #endif
- 
- #if defined (sequent)
- #if defined (i386)
-   printf ("i386-sequent-dynix\n"); exit (0);
- #endif
- #if defined (ns32000)
-   printf ("ns32k-sequent-dynix\n"); exit (0);
- #endif
- #endif
- 
- #if defined (_SEQUENT_)
-     struct utsname un;
- 
-     uname(&un);
- 
-     if (strncmp(un.version, "V2", 2) == 0) {
- 	printf ("i386-sequent-ptx2\n"); exit (0);
-     }
-     if (strncmp(un.version, "V1", 2) == 0) { /* XXX is V1 correct? */
- 	printf ("i386-sequent-ptx1\n"); exit (0);
-     }
-     printf ("i386-sequent-ptx\n"); exit (0);
- 
- #endif
- 
- #if defined (vax)
- # if !defined (ultrix)
- #  include <sys/param.h>
- #  if defined (BSD)
- #   if BSD == 43
-       printf ("vax-dec-bsd4.3\n"); exit (0);
- #   else
- #    if BSD == 199006
-       printf ("vax-dec-bsd4.3reno\n"); exit (0);
- #    else
-       printf ("vax-dec-bsd\n"); exit (0);
- #    endif
- #   endif
- #  else
-     printf ("vax-dec-bsd\n"); exit (0);
- #  endif
- # else
-     printf ("vax-dec-ultrix\n"); exit (0);
- # endif
- #endif
- 
- #if defined (alliant) && defined (i860)
-   printf ("i860-alliant-bsd\n"); exit (0);
- #endif
- 
-   exit (1);
- }
- EOF
- 
- $CC_FOR_BUILD -o $dummy $dummy.c 2>/dev/null && $dummy && exit 0
- 
- # Apollos put the system type in the environment.
- 
- test -d /usr/apollo && { echo ${ISP}-apollo-${SYSTYPE}; exit 0; }
- 
- # Convex versions that predate uname can use getsysinfo(1)
- 
- if [ -x /usr/convex/getsysinfo ]
- then
-     case `getsysinfo -f cpu_type` in
-     c1*)
- 	echo c1-convex-bsd
- 	exit 0 ;;
-     c2*)
- 	if getsysinfo -f scalar_acc
- 	then echo c32-convex-bsd
- 	else echo c2-convex-bsd
- 	fi
- 	exit 0 ;;
-     c34*)
- 	echo c34-convex-bsd
- 	exit 0 ;;
-     c38*)
- 	echo c38-convex-bsd
- 	exit 0 ;;
-     c4*)
- 	echo c4-convex-bsd
- 	exit 0 ;;
-     esac
- fi
- 
  cat >&2 <<EOF
  $0: unable to guess system type
  
--- 1322,1376 ----
  	    UNAME_MACHINE="$cputype"
  	fi
  	echo ${UNAME_MACHINE}-unknown-plan9
! 	exit ;;
      *:TOPS-10:*:*)
  	echo pdp10-unknown-tops10
! 	exit ;;
      *:TENEX:*:*)
  	echo pdp10-unknown-tenex
! 	exit ;;
      KS10:TOPS-20:*:* | KL10:TOPS-20:*:* | TYPE4:TOPS-20:*:*)
  	echo pdp10-dec-tops20
! 	exit ;;
      XKL-1:TOPS-20:*:* | TYPE5:TOPS-20:*:*)
  	echo pdp10-xkl-tops20
! 	exit ;;
      *:TOPS-20:*:*)
  	echo pdp10-unknown-tops20
! 	exit ;;
      *:ITS:*:*)
  	echo pdp10-unknown-its
! 	exit ;;
      SEI:*:*:SEIUX)
! 	echo mips-sei-seiux${UNAME_RELEASE}
! 	exit ;;
!     *:DragonFly:*:*)
! 	echo ${UNAME_MACHINE}-unknown-dragonfly`echo ${UNAME_RELEASE}|sed -e 's/[-(].*//'`
! 	exit ;;
!     *:*VMS:*:*)
! 	UNAME_MACHINE=`(uname -p) 2>/dev/null`
! 	case "${UNAME_MACHINE}" in
! 	    A*) echo alpha-dec-vms ; exit ;;
! 	    I*) echo ia64-dec-vms ; exit ;;
! 	    V*) echo vax-dec-vms ; exit ;;
! 	esac ;;
!     *:XENIX:*:SysV)
! 	echo i386-pc-xenix
! 	exit ;;
!     i*86:skyos:*:*)
! 	echo ${UNAME_MACHINE}-pc-skyos`echo ${UNAME_RELEASE}` | sed -e 's/ .*$//'
! 	exit ;;
!     i*86:rdos:*:*)
! 	echo ${UNAME_MACHINE}-pc-rdos
! 	exit ;;
!     i*86:AROS:*:*)
! 	echo ${UNAME_MACHINE}-pc-aros
! 	exit ;;
!     x86_64:VMkernel:*:*)
! 	echo ${UNAME_MACHINE}-unknown-esx
! 	exit ;;
  esac
  
  cat >&2 <<EOF
  $0: unable to guess system type
  
***************
*** 1367,1373 ****
  the operating system you are using. It is advised that you
  download the most up to date version of the config scripts from
  
!     ftp://ftp.gnu.org/pub/gnu/config/
  
  If the version you run ($0) is already up to date, please
  send the following data and any information you think might be
--- 1378,1386 ----
  the operating system you are using. It is advised that you
  download the most up to date version of the config scripts from
  
!   http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.guess;hb=HEAD
! and
!   http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD
  
  If the version you run ($0) is already up to date, please
  send the following data and any information you think might be
diff -cNr ../top-3.7-orig/config.sub ./config.sub
*** ../top-3.7-orig/config.sub	2008-02-27 13:39:40.000000000 +0900
--- ./config.sub	2014-10-14 16:32:02.000000000 +0900
***************
*** 1,42 ****
  #! /bin/sh
  # Configuration validation subroutine script.
! #   Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999,
! #   2000, 2001, 2002, 2003 Free Software Foundation, Inc.
  
! timestamp='2003-07-04'
  
! # This file is (in principle) common to ALL GNU software.
! # The presence of a machine in this file suggests that SOME GNU software
! # can handle that machine.  It does not imply ALL GNU software can.
! #
! # This file is free software; you can redistribute it and/or modify
! # it under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 2 of the License, or
  # (at your option) any later version.
  #
! # This program is distributed in the hope that it will be useful,
! # but WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
! # GNU General Public License for more details.
  #
  # You should have received a copy of the GNU General Public License
! # along with this program; if not, write to the Free Software
! # Foundation, Inc., 59 Temple Place - Suite 330,
! # Boston, MA 02111-1307, USA.
! 
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
  # configuration script generated by Autoconf, you may include it under
! # the same distribution terms that you use for the rest of that program.
  
! # Please send patches to <config-patches@gnu.org>.  Submit a context
! # diff and a properly formatted ChangeLog entry.
  #
  # Configuration subroutine to validate and canonicalize a configuration type.
  # Supply the specified configuration type as an argument.
  # If it is invalid, we print an error message on stderr and exit with code 1.
  # Otherwise, we print the canonical config type on stdout and succeed.
  
  # This file is supposed to be the same for all GNU packages
  # and recognize all the CPU types, system types and aliases
  # that are meaningful with *any* GNU software.
--- 1,40 ----
  #! /bin/sh
  # Configuration validation subroutine script.
! #   Copyright 1992-2014 Free Software Foundation, Inc.
  
! timestamp='2014-07-28'
  
! # This file is free software; you can redistribute it and/or modify it
! # under the terms of the GNU General Public License as published by
! # the Free Software Foundation; either version 3 of the License, or
  # (at your option) any later version.
  #
! # This program is distributed in the hope that it will be useful, but
! # WITHOUT ANY WARRANTY; without even the implied warranty of
! # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
! # General Public License for more details.
  #
  # You should have received a copy of the GNU General Public License
! # along with this program; if not, see <http://www.gnu.org/licenses/>.
! #
  # As a special exception to the GNU General Public License, if you
  # distribute this file as part of a program that contains a
  # configuration script generated by Autoconf, you may include it under
! # the same distribution terms that you use for the rest of that
! # program.  This Exception is an additional permission under section 7
! # of the GNU General Public License, version 3 ("GPLv3").
  
! 
! # Please send patches with a ChangeLog entry to config-patches@gnu.org.
  #
  # Configuration subroutine to validate and canonicalize a configuration type.
  # Supply the specified configuration type as an argument.
  # If it is invalid, we print an error message on stderr and exit with code 1.
  # Otherwise, we print the canonical config type on stdout and succeed.
  
+ # You can get the latest version of this script from:
+ # http://git.savannah.gnu.org/gitweb/?p=config.git;a=blob_plain;f=config.sub;hb=HEAD
+ 
  # This file is supposed to be the same for all GNU packages
  # and recognize all the CPU types, system types and aliases
  # that are meaningful with *any* GNU software.
***************
*** 70,77 ****
  version="\
  GNU config.sub ($timestamp)
  
! Copyright (C) 1992, 1993, 1994, 1995, 1996, 1997, 1998, 1999, 2000, 2001
! Free Software Foundation, Inc.
  
  This is free software; see the source for copying conditions.  There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
--- 68,74 ----
  version="\
  GNU config.sub ($timestamp)
  
! Copyright 1992-2014 Free Software Foundation, Inc.
  
  This is free software; see the source for copying conditions.  There is NO
  warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
***************
*** 83,93 ****
  while test $# -gt 0 ; do
    case $1 in
      --time-stamp | --time* | -t )
!        echo "$timestamp" ; exit 0 ;;
      --version | -v )
!        echo "$version" ; exit 0 ;;
      --help | --h* | -h )
!        echo "$usage"; exit 0 ;;
      -- )     # Stop option processing
         shift; break ;;
      - )	# Use stdin as input.
--- 80,90 ----
  while test $# -gt 0 ; do
    case $1 in
      --time-stamp | --time* | -t )
!        echo "$timestamp" ; exit ;;
      --version | -v )
!        echo "$version" ; exit ;;
      --help | --h* | -h )
!        echo "$usage"; exit ;;
      -- )     # Stop option processing
         shift; break ;;
      - )	# Use stdin as input.
***************
*** 99,105 ****
      *local*)
         # First pass through any local machine types.
         echo $1
!        exit 0;;
  
      * )
         break ;;
--- 96,102 ----
      *local*)
         # First pass through any local machine types.
         echo $1
!        exit ;;
  
      * )
         break ;;
***************
*** 118,127 ****
  # Here we must recognize all the valid KERNEL-OS combinations.
  maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
  case $maybe_os in
!   nto-qnx* | linux-gnu* | kfreebsd*-gnu* | netbsd*-gnu* | storm-chaos* | os2-emx* | rtmk-nova*)
      os=-$maybe_os
      basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
      ;;
    *)
      basic_machine=`echo $1 | sed 's/-[^-]*$//'`
      if [ $basic_machine != $1 ]
--- 115,132 ----
  # Here we must recognize all the valid KERNEL-OS combinations.
  maybe_os=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\2/'`
  case $maybe_os in
!   nto-qnx* | linux-gnu* | linux-android* | linux-dietlibc | linux-newlib* | \
!   linux-musl* | linux-uclibc* | uclinux-uclibc* | uclinux-gnu* | kfreebsd*-gnu* | \
!   knetbsd*-gnu* | netbsd*-gnu* | \
!   kopensolaris*-gnu* | \
!   storm-chaos* | os2-emx* | rtmk-nova*)
      os=-$maybe_os
      basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`
      ;;
+   android-linux)
+     os=-linux-android
+     basic_machine=`echo $1 | sed 's/^\(.*\)-\([^-]*-[^-]*\)$/\1/'`-unknown
+     ;;
    *)
      basic_machine=`echo $1 | sed 's/-[^-]*$//'`
      if [ $basic_machine != $1 ]
***************
*** 144,153 ****
  	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
  	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
  	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
! 	-apple | -axis)
  		os=
  		basic_machine=$1
  		;;
  	-sim | -cisco | -oki | -wec | -winbond)
  		os=
  		basic_machine=$1
--- 149,161 ----
  	-convergent* | -ncr* | -news | -32* | -3600* | -3100* | -hitachi* |\
  	-c[123]* | -convex* | -sun | -crds | -omron* | -dg | -ultra | -tti* | \
  	-harris | -dolphin | -highlevel | -gould | -cbm | -ns | -masscomp | \
! 	-apple | -axis | -knuth | -cray | -microblaze*)
  		os=
  		basic_machine=$1
  		;;
+ 	-bluegene*)
+ 		os=-cnk
+ 		;;
  	-sim | -cisco | -oki | -wec | -winbond)
  		os=
  		basic_machine=$1
***************
*** 162,174 ****
  		os=-chorusos
  		basic_machine=$1
  		;;
!  	-chorusrdb)
!  		os=-chorusrdb
  		basic_machine=$1
!  		;;
  	-hiux*)
  		os=-hiuxwe2
  		;;
  	-sco5)
  		os=-sco3.2v5
  		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
--- 170,186 ----
  		os=-chorusos
  		basic_machine=$1
  		;;
! 	-chorusrdb)
! 		os=-chorusrdb
  		basic_machine=$1
! 		;;
  	-hiux*)
  		os=-hiuxwe2
  		;;
+ 	-sco6)
+ 		os=-sco5v6
+ 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
+ 		;;
  	-sco5)
  		os=-sco3.2v5
  		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
***************
*** 185,190 ****
--- 197,206 ----
  		# Don't forget version if it is 3.2v4 or newer.
  		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
  		;;
+ 	-sco5v6*)
+ 		# Don't forget version if it is 3.2v4 or newer.
+ 		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
+ 		;;
  	-sco*)
  		os=-sco3.2v2
  		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
***************
*** 202,207 ****
--- 218,229 ----
  	-isc*)
  		basic_machine=`echo $1 | sed -e 's/86-.*/86-pc/'`
  		;;
+ 	-lynx*178)
+ 		os=-lynxos178
+ 		;;
+ 	-lynx*5)
+ 		os=-lynxos5
+ 		;;
  	-lynx*)
  		os=-lynxos
  		;;
***************
*** 226,280 ****
  	# Some are omitted here because they have special meanings below.
  	1750a | 580 \
  	| a29k \
  	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
  	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
! 	| arc | arm | arm[bl]e | arme[lb] | armv[2345] | armv[345][lb] | avr \
! 	| c4x | clipper \
  	| d10v | d30v | dlx | dsp16xx \
! 	| fr30 | frv \
  	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
  	| i370 | i860 | i960 | ia64 \
! 	| ip2k \
! 	| m32r | m68000 | m68k | m88k | mcore \
  	| mips | mipsbe | mipseb | mipsel | mipsle \
  	| mips16 \
  	| mips64 | mips64el \
! 	| mips64vr | mips64vrel \
  	| mips64orion | mips64orionel \
  	| mips64vr4100 | mips64vr4100el \
  	| mips64vr4300 | mips64vr4300el \
  	| mips64vr5000 | mips64vr5000el \
  	| mipsisa32 | mipsisa32el \
  	| mipsisa32r2 | mipsisa32r2el \
  	| mipsisa64 | mipsisa64el \
  	| mipsisa64sb1 | mipsisa64sb1el \
  	| mipsisa64sr71k | mipsisa64sr71kel \
  	| mipstx39 | mipstx39el \
  	| mn10200 | mn10300 \
  	| msp430 \
  	| ns16k | ns32k \
! 	| openrisc | or32 \
  	| pdp10 | pdp11 | pj | pjl \
! 	| powerpc | powerpc64 | powerpc64le | powerpcle | ppcbe \
  	| pyramid \
! 	| sh | sh[1234] | sh[23]e | sh[34]eb | shbe | shle | sh[1234]le | sh3ele \
  	| sh64 | sh64le \
! 	| sparc | sparc64 | sparc86x | sparclet | sparclite | sparcv9 | sparcv9b \
! 	| strongarm \
! 	| tahoe | thumb | tic4x | tic80 | tron \
! 	| v850 | v850e \
  	| we32k \
! 	| x86 | xscale | xstormy16 | xtensa \
! 	| z8k)
  		basic_machine=$basic_machine-unknown
  		;;
! 	m6811 | m68hc11 | m6812 | m68hc12)
! 		# Motorola 68HC11/12.
  		basic_machine=$basic_machine-unknown
  		os=-none
  		;;
  	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)
  		;;
  
  	# We use `pc' rather than `unknown'
  	# because (1) that's what they normally are, and
--- 248,355 ----
  	# Some are omitted here because they have special meanings below.
  	1750a | 580 \
  	| a29k \
+ 	| aarch64 | aarch64_be \
  	| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] | alphapca5[67] \
  	| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] | alpha64pca5[67] \
! 	| am33_2.0 \
! 	| arc | arceb \
! 	| arm | arm[bl]e | arme[lb] | armv[2-8] | armv[3-8][lb] | armv7[arm] \
! 	| avr | avr32 \
! 	| be32 | be64 \
! 	| bfin \
! 	| c4x | c8051 | clipper \
  	| d10v | d30v | dlx | dsp16xx \
! 	| epiphany \
! 	| fido | fr30 | frv \
  	| h8300 | h8500 | hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
+ 	| hexagon \
  	| i370 | i860 | i960 | ia64 \
! 	| ip2k | iq2000 \
! 	| k1om \
! 	| le32 | le64 \
! 	| lm32 \
! 	| m32c | m32r | m32rle | m68000 | m68k | m88k \
! 	| maxq | mb | microblaze | microblazeel | mcore | mep | metag \
  	| mips | mipsbe | mipseb | mipsel | mipsle \
  	| mips16 \
  	| mips64 | mips64el \
! 	| mips64octeon | mips64octeonel \
  	| mips64orion | mips64orionel \
+ 	| mips64r5900 | mips64r5900el \
+ 	| mips64vr | mips64vrel \
  	| mips64vr4100 | mips64vr4100el \
  	| mips64vr4300 | mips64vr4300el \
  	| mips64vr5000 | mips64vr5000el \
+ 	| mips64vr5900 | mips64vr5900el \
  	| mipsisa32 | mipsisa32el \
  	| mipsisa32r2 | mipsisa32r2el \
+ 	| mipsisa32r6 | mipsisa32r6el \
  	| mipsisa64 | mipsisa64el \
+ 	| mipsisa64r2 | mipsisa64r2el \
+ 	| mipsisa64r6 | mipsisa64r6el \
  	| mipsisa64sb1 | mipsisa64sb1el \
  	| mipsisa64sr71k | mipsisa64sr71kel \
+ 	| mipsr5900 | mipsr5900el \
  	| mipstx39 | mipstx39el \
  	| mn10200 | mn10300 \
+ 	| moxie \
+ 	| mt \
  	| msp430 \
+ 	| nds32 | nds32le | nds32be \
+ 	| nios | nios2 | nios2eb | nios2el \
  	| ns16k | ns32k \
! 	| open8 | or1k | or1knd | or32 \
  	| pdp10 | pdp11 | pj | pjl \
! 	| powerpc | powerpc64 | powerpc64le | powerpcle \
  	| pyramid \
! 	| rl78 | rx \
! 	| score \
! 	| sh | sh[1234] | sh[24]a | sh[24]aeb | sh[23]e | sh[34]eb | sheb | shbe | shle | sh[1234]le | sh3ele \
  	| sh64 | sh64le \
! 	| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet | sparclite \
! 	| sparcv8 | sparcv9 | sparcv9b | sparcv9v \
! 	| spu \
! 	| tahoe | tic4x | tic54x | tic55x | tic6x | tic80 | tron \
! 	| ubicom32 \
! 	| v850 | v850e | v850e1 | v850e2 | v850es | v850e2v3 \
  	| we32k \
! 	| x86 | xc16x | xstormy16 | xtensa \
! 	| z8k | z80)
  		basic_machine=$basic_machine-unknown
  		;;
! 	c54x)
! 		basic_machine=tic54x-unknown
! 		;;
! 	c55x)
! 		basic_machine=tic55x-unknown
! 		;;
! 	c6x)
! 		basic_machine=tic6x-unknown
! 		;;
! 	m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x | nvptx | picochip)
  		basic_machine=$basic_machine-unknown
  		os=-none
  		;;
  	m88110 | m680[12346]0 | m683?2 | m68360 | m5200 | v70 | w65 | z8k)
  		;;
+ 	ms1)
+ 		basic_machine=mt-unknown
+ 		;;
+ 
+ 	strongarm | thumb | xscale)
+ 		basic_machine=arm-unknown
+ 		;;
+ 	xgate)
+ 		basic_machine=$basic_machine-unknown
+ 		os=-none
+ 		;;
+ 	xscaleeb)
+ 		basic_machine=armeb-unknown
+ 		;;
+ 
+ 	xscaleel)
+ 		basic_machine=armel-unknown
+ 		;;
  
  	# We use `pc' rather than `unknown'
  	# because (1) that's what they normally are, and
***************
*** 290,347 ****
  	# Recognize the basic CPU types with company name.
  	580-* \
  	| a29k-* \
  	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
  	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
! 	| alphapca5[67]-* | alpha64pca5[67]-* | amd64-* | arc-* \
  	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
! 	| avr-* \
! 	| bs2000-* \
! 	| c[123]* | c30-* | [cjt]90-* | c4x-* | c54x-* | c55x-* | c6x-* \
! 	| clipper-* | cydra-* \
  	| d10v-* | d30v-* | dlx-* \
  	| elxsi-* \
! 	| f30[01]-* | f700-* | fr30-* | frv-* | fx80-* \
  	| h8300-* | h8500-* \
  	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
  	| i*86-* | i860-* | i960-* | ia64-* \
! 	| ip2k-* \
! 	| m32r-* \
  	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
! 	| m88110-* | m88k-* | mcore-* \
  	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
  	| mips16-* \
  	| mips64-* | mips64el-* \
! 	| mips64vr-* | mips64vrel-* \
  	| mips64orion-* | mips64orionel-* \
  	| mips64vr4100-* | mips64vr4100el-* \
  	| mips64vr4300-* | mips64vr4300el-* \
  	| mips64vr5000-* | mips64vr5000el-* \
  	| mipsisa32-* | mipsisa32el-* \
  	| mipsisa32r2-* | mipsisa32r2el-* \
  	| mipsisa64-* | mipsisa64el-* \
  	| mipsisa64sb1-* | mipsisa64sb1el-* \
  	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
  	| mipstx39-* | mipstx39el-* \
  	| msp430-* \
! 	| none-* | np1-* | nv1-* | ns16k-* | ns32k-* \
  	| orion-* \
  	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
! 	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* | ppcbe-* \
  	| pyramid-* \
! 	| romp-* | rs6000-* \
! 	| sh-* | sh[1234]-* | sh[23]e-* | sh[34]eb-* | shbe-* \
  	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
! 	| sparc-* | sparc64-* | sparc86x-* | sparclet-* | sparclite-* \
! 	| sparcv9-* | sparcv9b-* | strongarm-* | sv1-* | sx?-* \
! 	| tahoe-* | thumb-* \
  	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
  	| tron-* \
! 	| v850-* | v850e-* | vax-* \
  	| we32k-* \
! 	| x86-* | x86_64-* | xps100-* | xscale-* | xstormy16-* \
! 	| xtensa-* \
  	| ymp-* \
! 	| z8k-*)
  		;;
  	# Recognize the various machine names and aliases which stand
  	# for a CPU type and a company and sometimes even an OS.
--- 365,450 ----
  	# Recognize the basic CPU types with company name.
  	580-* \
  	| a29k-* \
+ 	| aarch64-* | aarch64_be-* \
  	| alpha-* | alphaev[4-8]-* | alphaev56-* | alphaev6[78]-* \
  	| alpha64-* | alpha64ev[4-8]-* | alpha64ev56-* | alpha64ev6[78]-* \
! 	| alphapca5[67]-* | alpha64pca5[67]-* | arc-* | arceb-* \
  	| arm-*  | armbe-* | armle-* | armeb-* | armv*-* \
! 	| avr-* | avr32-* \
! 	| be32-* | be64-* \
! 	| bfin-* | bs2000-* \
! 	| c[123]* | c30-* | [cjt]90-* | c4x-* \
! 	| c8051-* | clipper-* | craynv-* | cydra-* \
  	| d10v-* | d30v-* | dlx-* \
  	| elxsi-* \
! 	| f30[01]-* | f700-* | fido-* | fr30-* | frv-* | fx80-* \
  	| h8300-* | h8500-* \
  	| hppa-* | hppa1.[01]-* | hppa2.0-* | hppa2.0[nw]-* | hppa64-* \
+ 	| hexagon-* \
  	| i*86-* | i860-* | i960-* | ia64-* \
! 	| ip2k-* | iq2000-* \
! 	| k1om-* \
! 	| le32-* | le64-* \
! 	| lm32-* \
! 	| m32c-* | m32r-* | m32rle-* \
  	| m68000-* | m680[012346]0-* | m68360-* | m683?2-* | m68k-* \
! 	| m88110-* | m88k-* | maxq-* | mcore-* | metag-* \
! 	| microblaze-* | microblazeel-* \
  	| mips-* | mipsbe-* | mipseb-* | mipsel-* | mipsle-* \
  	| mips16-* \
  	| mips64-* | mips64el-* \
! 	| mips64octeon-* | mips64octeonel-* \
  	| mips64orion-* | mips64orionel-* \
+ 	| mips64r5900-* | mips64r5900el-* \
+ 	| mips64vr-* | mips64vrel-* \
  	| mips64vr4100-* | mips64vr4100el-* \
  	| mips64vr4300-* | mips64vr4300el-* \
  	| mips64vr5000-* | mips64vr5000el-* \
+ 	| mips64vr5900-* | mips64vr5900el-* \
  	| mipsisa32-* | mipsisa32el-* \
  	| mipsisa32r2-* | mipsisa32r2el-* \
+ 	| mipsisa32r6-* | mipsisa32r6el-* \
  	| mipsisa64-* | mipsisa64el-* \
+ 	| mipsisa64r2-* | mipsisa64r2el-* \
+ 	| mipsisa64r6-* | mipsisa64r6el-* \
  	| mipsisa64sb1-* | mipsisa64sb1el-* \
  	| mipsisa64sr71k-* | mipsisa64sr71kel-* \
+ 	| mipsr5900-* | mipsr5900el-* \
  	| mipstx39-* | mipstx39el-* \
+ 	| mmix-* \
+ 	| mt-* \
  	| msp430-* \
! 	| nds32-* | nds32le-* | nds32be-* \
! 	| nios-* | nios2-* | nios2eb-* | nios2el-* \
! 	| none-* | np1-* | ns16k-* | ns32k-* \
! 	| open8-* \
! 	| or1k*-* \
  	| orion-* \
  	| pdp10-* | pdp11-* | pj-* | pjl-* | pn-* | power-* \
! 	| powerpc-* | powerpc64-* | powerpc64le-* | powerpcle-* \
  	| pyramid-* \
! 	| rl78-* | romp-* | rs6000-* | rx-* \
! 	| sh-* | sh[1234]-* | sh[24]a-* | sh[24]aeb-* | sh[23]e-* | sh[34]eb-* | sheb-* | shbe-* \
  	| shle-* | sh[1234]le-* | sh3ele-* | sh64-* | sh64le-* \
! 	| sparc-* | sparc64-* | sparc64b-* | sparc64v-* | sparc86x-* | sparclet-* \
! 	| sparclite-* \
! 	| sparcv8-* | sparcv9-* | sparcv9b-* | sparcv9v-* | sv1-* | sx?-* \
! 	| tahoe-* \
  	| tic30-* | tic4x-* | tic54x-* | tic55x-* | tic6x-* | tic80-* \
+ 	| tile*-* \
  	| tron-* \
! 	| ubicom32-* \
! 	| v850-* | v850e-* | v850e1-* | v850es-* | v850e2-* | v850e2v3-* \
! 	| vax-* \
  	| we32k-* \
! 	| x86-* | x86_64-* | xc16x-* | xps100-* \
! 	| xstormy16-* | xtensa*-* \
  	| ymp-* \
! 	| z8k-* | z80-*)
! 		;;
! 	# Recognize the basic CPU types without company name, with glob match.
! 	xtensa*)
! 		basic_machine=$basic_machine-unknown
  		;;
  	# Recognize the various machine names and aliases which stand
  	# for a CPU type and a company and sometimes even an OS.
***************
*** 359,364 ****
--- 462,470 ----
  		basic_machine=a29k-amd
  		os=-udi
  		;;
+ 	abacus)
+ 		basic_machine=abacus-unknown
+ 		;;
  	adobe68k)
  		basic_machine=m68010-adobe
  		os=-scout
***************
*** 376,381 ****
--- 482,490 ----
  	amd64)
  		basic_machine=x86_64-pc
  		;;
+ 	amd64-*)
+ 		basic_machine=x86_64-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
  	amdahl)
  		basic_machine=580-amdahl
  		os=-sysv
***************
*** 399,404 ****
--- 508,517 ----
  		basic_machine=m68k-apollo
  		os=-bsd
  		;;
+ 	aros)
+ 		basic_machine=i386-pc
+ 		os=-aros
+ 		;;
  	aux)
  		basic_machine=m68k-apple
  		os=-aux
***************
*** 407,416 ****
--- 520,554 ----
  		basic_machine=ns32k-sequent
  		os=-dynix
  		;;
+ 	blackfin)
+ 		basic_machine=bfin-unknown
+ 		os=-linux
+ 		;;
+ 	blackfin-*)
+ 		basic_machine=bfin-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		os=-linux
+ 		;;
+ 	bluegene*)
+ 		basic_machine=powerpc-ibm
+ 		os=-cnk
+ 		;;
+ 	c54x-*)
+ 		basic_machine=tic54x-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
+ 	c55x-*)
+ 		basic_machine=tic55x-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
+ 	c6x-*)
+ 		basic_machine=tic6x-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
  	c90)
  		basic_machine=c90-cray
  		os=-unicos
  		;;
+ 	cegcc)
+ 		basic_machine=arm-unknown
+ 		os=-cegcc
+ 		;;
  	convex-c1)
  		basic_machine=c1-convex
  		os=-bsd
***************
*** 435,446 ****
--- 573,599 ----
  		basic_machine=j90-cray
  		os=-unicos
  		;;
+ 	craynv)
+ 		basic_machine=craynv-cray
+ 		os=-unicosmp
+ 		;;
+ 	cr16 | cr16-*)
+ 		basic_machine=cr16-unknown
+ 		os=-elf
+ 		;;
  	crds | unos)
  		basic_machine=m68k-crds
  		;;
+ 	crisv32 | crisv32-* | etraxfs*)
+ 		basic_machine=crisv32-axis
+ 		;;
  	cris | cris-* | etrax*)
  		basic_machine=cris-axis
  		;;
+ 	crx)
+ 		basic_machine=crx-unknown
+ 		os=-elf
+ 		;;
  	da30 | da30-*)
  		basic_machine=m68k-da30
  		;;
***************
*** 463,468 ****
--- 616,629 ----
  		basic_machine=m88k-motorola
  		os=-sysv3
  		;;
+ 	dicos)
+ 		basic_machine=i686-pc
+ 		os=-dicos
+ 		;;
+ 	djgpp)
+ 		basic_machine=i586-pc
+ 		os=-msdosdjgpp
+ 		;;
  	dpx20 | dpx20-*)
  		basic_machine=rs6000-bull
  		os=-bosx
***************
*** 574,580 ****
  	i370-ibm* | ibm*)
  		basic_machine=i370-ibm
  		;;
- # I'm not sure what "Sysv32" means.  Should this be sysv3.2?
  	i*86v32)
  		basic_machine=`echo $1 | sed -e 's/86.*/86-pc/'`
  		os=-sysv32
--- 735,740 ----
***************
*** 613,618 ****
--- 773,786 ----
  		basic_machine=m68k-isi
  		os=-sysv
  		;;
+ 	m68knommu)
+ 		basic_machine=m68k-unknown
+ 		os=-linux
+ 		;;
+ 	m68knommu-*)
+ 		basic_machine=m68k-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		os=-linux
+ 		;;
  	m88k-omron*)
  		basic_machine=m88k-omron
  		;;
***************
*** 624,633 ****
  		basic_machine=ns32k-utek
  		os=-sysv
  		;;
  	mingw32)
! 		basic_machine=i386-pc
  		os=-mingw32
  		;;
  	miniframe)
  		basic_machine=m68000-convergent
  		;;
--- 792,812 ----
  		basic_machine=ns32k-utek
  		os=-sysv
  		;;
+ 	microblaze*)
+ 		basic_machine=microblaze-xilinx
+ 		;;
+ 	mingw64)
+ 		basic_machine=x86_64-pc
+ 		os=-mingw64
+ 		;;
  	mingw32)
! 		basic_machine=i686-pc
  		os=-mingw32
  		;;
+ 	mingw32ce)
+ 		basic_machine=arm-unknown
+ 		os=-mingw32ce
+ 		;;
  	miniframe)
  		basic_machine=m68000-convergent
  		;;
***************
*** 641,650 ****
  	mips3*)
  		basic_machine=`echo $basic_machine | sed -e 's/mips3/mips64/'`-unknown
  		;;
- 	mmix*)
- 		basic_machine=mmix-knuth
- 		os=-mmixware
- 		;;
  	monitor)
  		basic_machine=m68k-rom68k
  		os=-coff
--- 820,825 ----
***************
*** 653,666 ****
--- 828,856 ----
  		basic_machine=powerpc-unknown
  		os=-morphos
  		;;
+ 	moxiebox)
+ 		basic_machine=moxie-unknown
+ 		os=-moxiebox
+ 		;;
  	msdos)
  		basic_machine=i386-pc
  		os=-msdos
  		;;
+ 	ms1-*)
+ 		basic_machine=`echo $basic_machine | sed -e 's/ms1-/mt-/'`
+ 		;;
+ 	msys)
+ 		basic_machine=i686-pc
+ 		os=-msys
+ 		;;
  	mvs)
  		basic_machine=i370-ibm
  		os=-mvs
  		;;
+ 	nacl)
+ 		basic_machine=le32-unknown
+ 		os=-nacl
+ 		;;
  	ncr3000)
  		basic_machine=i486-ncr
  		os=-sysv4
***************
*** 725,733 ****
  	np1)
  		basic_machine=np1-gould
  		;;
! 	nv1)
! 		basic_machine=nv1-cray
! 		os=-unicosmp
  		;;
  	nsr-tandem)
  		basic_machine=nsr-tandem
--- 915,925 ----
  	np1)
  		basic_machine=np1-gould
  		;;
! 	neo-tandem)
! 		basic_machine=neo-tandem
! 		;;
! 	nse-tandem)
! 		basic_machine=nse-tandem
  		;;
  	nsr-tandem)
  		basic_machine=nsr-tandem
***************
*** 736,744 ****
  		basic_machine=hppa1.1-oki
  		os=-proelf
  		;;
! 	or32 | or32-*)
  		basic_machine=or32-unknown
! 		os=-coff
  		;;
  	OSE68000 | ose68000)
  		basic_machine=m68000-ericsson
--- 928,939 ----
  		basic_machine=hppa1.1-oki
  		os=-proelf
  		;;
! 	openrisc | openrisc-*)
  		basic_machine=or32-unknown
! 		;;
! 	os400)
! 		basic_machine=powerpc-ibm
! 		os=-os400
  		;;
  	OSE68000 | ose68000)
  		basic_machine=m68000-ericsson
***************
*** 756,761 ****
--- 951,964 ----
  		basic_machine=i860-intel
  		os=-osf
  		;;
+ 	parisc)
+ 		basic_machine=hppa-unknown
+ 		os=-linux
+ 		;;
+ 	parisc-*)
+ 		basic_machine=hppa-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		os=-linux
+ 		;;
  	pbd)
  		basic_machine=sparc-tti
  		;;
***************
*** 765,770 ****
--- 968,979 ----
  	pc532 | pc532-*)
  		basic_machine=ns32k-pc532
  		;;
+ 	pc98)
+ 		basic_machine=i386-pc
+ 		;;
+ 	pc98-*)
+ 		basic_machine=i386-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
  	pentium | p5 | k5 | k6 | nexgen | viac3)
  		basic_machine=i586-pc
  		;;
***************
*** 794,802 ****
  		;;
  	power)	basic_machine=power-ibm
  		;;
! 	ppc)	basic_machine=powerpc-unknown
  		;;
! 	ppc-*)	basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppcle | powerpclittle | ppc-le | powerpc-little)
  		basic_machine=powerpcle-unknown
--- 1003,1012 ----
  		;;
  	power)	basic_machine=power-ibm
  		;;
! 	ppc | ppcbe)	basic_machine=powerpc-unknown
  		;;
! 	ppc-* | ppcbe-*)
! 		basic_machine=powerpc-`echo $basic_machine | sed 's/^[^-]*-//'`
  		;;
  	ppcle | powerpclittle | ppc-le | powerpc-little)
  		basic_machine=powerpcle-unknown
***************
*** 821,826 ****
--- 1031,1044 ----
  		basic_machine=i586-unknown
  		os=-pw32
  		;;
+ 	rdos | rdos64)
+ 		basic_machine=x86_64-pc
+ 		os=-rdos
+ 		;;
+ 	rdos32)
+ 		basic_machine=i386-pc
+ 		os=-rdos
+ 		;;
  	rom68k)
  		basic_machine=m68k-rom68k
  		os=-coff
***************
*** 847,852 ****
--- 1065,1074 ----
  	sb1el)
  		basic_machine=mipsisa64sb1el-unknown
  		;;
+ 	sde)
+ 		basic_machine=mipsisa32-sde
+ 		os=-elf
+ 		;;
  	sei)
  		basic_machine=mips-sei
  		os=-seiux
***************
*** 858,863 ****
--- 1080,1088 ----
  		basic_machine=sh-hitachi
  		os=-hms
  		;;
+ 	sh5el)
+ 		basic_machine=sh5le-unknown
+ 		;;
  	sh64)
  		basic_machine=sh64-unknown
  		;;
***************
*** 879,884 ****
--- 1104,1112 ----
  		basic_machine=i860-stratus
  		os=-sysv4
  		;;
+ 	strongarm-* | thumb-*)
+ 		basic_machine=arm-`echo $basic_machine | sed 's/^[^-]*-//'`
+ 		;;
  	sun2)
  		basic_machine=m68000-sun
  		;;
***************
*** 935,951 ****
  		basic_machine=t90-cray
  		os=-unicos
  		;;
! 	tic54x | c54x*)
! 		basic_machine=tic54x-unknown
! 		os=-coff
! 		;;
! 	tic55x | c55x*)
! 		basic_machine=tic55x-unknown
! 		os=-coff
! 		;;
! 	tic6x | c6x*)
! 		basic_machine=tic6x-unknown
! 		os=-coff
  		;;
  	tx39)
  		basic_machine=mipstx39-unknown
--- 1163,1171 ----
  		basic_machine=t90-cray
  		os=-unicos
  		;;
! 	tile*)
! 		basic_machine=$basic_machine-unknown
! 		os=-linux-gnu
  		;;
  	tx39)
  		basic_machine=mipstx39-unknown
***************
*** 960,965 ****
--- 1180,1189 ----
  	tower | tower-32)
  		basic_machine=m68k-ncr
  		;;
+ 	tpf)
+ 		basic_machine=s390x-ibm
+ 		os=-tpf
+ 		;;
  	udi29k)
  		basic_machine=a29k-amd
  		os=-udi
***************
*** 1003,1011 ****
--- 1227,1242 ----
  		basic_machine=hppa1.1-winbond
  		os=-proelf
  		;;
+ 	xbox)
+ 		basic_machine=i686-pc
+ 		os=-mingw32
+ 		;;
  	xps | xps100)
  		basic_machine=xps100-honeywell
  		;;
+ 	xscale-* | xscalee[bl]-*)
+ 		basic_machine=`echo $basic_machine | sed 's/^xscale/arm/'`
+ 		;;
  	ymp)
  		basic_machine=ymp-cray
  		os=-unicos
***************
*** 1014,1019 ****
--- 1245,1254 ----
  		basic_machine=z8k-unknown
  		os=-sim
  		;;
+ 	z80-*-coff)
+ 		basic_machine=z80-unknown
+ 		os=-sim
+ 		;;
  	none)
  		basic_machine=none-none
  		os=-none
***************
*** 1033,1038 ****
--- 1268,1276 ----
  	romp)
  		basic_machine=romp-ibm
  		;;
+ 	mmix)
+ 		basic_machine=mmix-knuth
+ 		;;
  	rs6000)
  		basic_machine=rs6000-ibm
  		;;
***************
*** 1049,1061 ****
  	we32k)
  		basic_machine=we32k-att
  		;;
! 	sh3 | sh4 | sh[34]eb | sh[1234]le | sh[23]ele)
  		basic_machine=sh-unknown
  		;;
! 	sh64)
! 		basic_machine=sh64-unknown
! 		;;
! 	sparc | sparcv9 | sparcv9b)
  		basic_machine=sparc-sun
  		;;
  	cydra)
--- 1287,1296 ----
  	we32k)
  		basic_machine=we32k-att
  		;;
! 	sh[1234] | sh[24]a | sh[24]aeb | sh[34]eb | sh[1234]le | sh[23]ele)
  		basic_machine=sh-unknown
  		;;
! 	sparc | sparcv8 | sparcv9 | sparcv9b | sparcv9v)
  		basic_machine=sparc-sun
  		;;
  	cydra)
***************
*** 1099,1107 ****
  if [ x"$os" != x"" ]
  then
  case $os in
!         # First match some system type aliases
!         # that might get confused with valid system types.
  	# -solaris* is a basic system type, with this one exception.
  	-solaris1 | -solaris1.*)
  		os=`echo $os | sed -e 's|solaris1|sunos4|'`
  		;;
--- 1334,1345 ----
  if [ x"$os" != x"" ]
  then
  case $os in
! 	# First match some system type aliases
! 	# that might get confused with valid system types.
  	# -solaris* is a basic system type, with this one exception.
+ 	-auroraux)
+ 		os=-auroraux
+ 		;;
  	-solaris1 | -solaris1.*)
  		os=`echo $os | sed -e 's|solaris1|sunos4|'`
  		;;
***************
*** 1122,1146 ****
  	# Each alternative MUST END IN A *, to match a version number.
  	# -sysv* is not here because it comes later, after sysvr4.
  	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
! 	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -sunos | -sunos[34]*\
! 	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -solaris* | -sym* \
  	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
! 	      | -aos* \
  	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
  	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
! 	      | -hiux* | -386bsd* | -netbsd* | -openbsd* | -kfreebsd* | -freebsd* | -riscix* \
! 	      | -lynxos* | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
! 	      | -chorusos* | -chorusrdb* \
! 	      | -cygwin* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
! 	      | -mingw32* | -linux-gnu* | -uxpv* | -beos* | -mpeix* | -udk* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
  	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
  	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
  	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
! 	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei*)
  	# Remember, each alternative MUST END IN *, to match a version number.
  		;;
  	-qnx*)
--- 1360,1390 ----
  	# Each alternative MUST END IN A *, to match a version number.
  	# -sysv* is not here because it comes later, after sysvr4.
  	-gnu* | -bsd* | -mach* | -minix* | -genix* | -ultrix* | -irix* \
! 	      | -*vms* | -sco* | -esix* | -isc* | -aix* | -cnk* | -sunos | -sunos[34]*\
! 	      | -hpux* | -unos* | -osf* | -luna* | -dgux* | -auroraux* | -solaris* \
! 	      | -sym* | -kopensolaris* | -plan9* \
  	      | -amigaos* | -amigados* | -msdos* | -newsos* | -unicos* | -aof* \
! 	      | -aos* | -aros* \
  	      | -nindy* | -vxsim* | -vxworks* | -ebmon* | -hms* | -mvs* \
  	      | -clix* | -riscos* | -uniplus* | -iris* | -rtu* | -xenix* \
! 	      | -hiux* | -386bsd* | -knetbsd* | -mirbsd* | -netbsd* \
! 	      | -bitrig* | -openbsd* | -solidbsd* \
! 	      | -ekkobsd* | -kfreebsd* | -freebsd* | -riscix* | -lynxos* \
! 	      | -bosx* | -nextstep* | -cxux* | -aout* | -elf* | -oabi* \
  	      | -ptx* | -coff* | -ecoff* | -winnt* | -domain* | -vsta* \
  	      | -udi* | -eabi* | -lites* | -ieee* | -go32* | -aux* \
! 	      | -chorusos* | -chorusrdb* | -cegcc* \
! 	      | -cygwin* | -msys* | -pe* | -psos* | -moss* | -proelf* | -rtems* \
! 	      | -mingw32* | -mingw64* | -linux-gnu* | -linux-android* \
! 	      | -linux-newlib* | -linux-musl* | -linux-uclibc* \
! 	      | -uxpv* | -beos* | -mpeix* | -udk* | -moxiebox* \
  	      | -interix* | -uwin* | -mks* | -rhapsody* | -darwin* | -opened* \
  	      | -openstep* | -oskit* | -conix* | -pw32* | -nonstopux* \
  	      | -storm-chaos* | -tops10* | -tenex* | -tops20* | -its* \
  	      | -os2* | -vos* | -palmos* | -uclinux* | -nucleus* \
  	      | -morphos* | -superux* | -rtmk* | -rtmk-nova* | -windiss* \
! 	      | -powermax* | -dnix* | -nx6 | -nx7 | -sei* | -dragonfly* \
! 	      | -skyos* | -haiku* | -rdos* | -toppers* | -drops* | -es* | -tirtos*)
  	# Remember, each alternative MUST END IN *, to match a version number.
  		;;
  	-qnx*)
***************
*** 1158,1169 ****
  		os=`echo $os | sed -e 's|nto|nto-qnx|'`
  		;;
  	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
! 	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* \
  	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
  		;;
  	-mac*)
  		os=`echo $os | sed -e 's|mac|macos|'`
  		;;
  	-linux*)
  		os=`echo $os | sed -e 's|linux|linux-gnu|'`
  		;;
--- 1402,1416 ----
  		os=`echo $os | sed -e 's|nto|nto-qnx|'`
  		;;
  	-sim | -es1800* | -hms* | -xray | -os68k* | -none* | -v88r* \
! 	      | -windows* | -osx | -abug | -netware* | -os9* | -beos* | -haiku* \
  	      | -macos* | -mpw* | -magic* | -mmixware* | -mon960* | -lnews*)
  		;;
  	-mac*)
  		os=`echo $os | sed -e 's|mac|macos|'`
  		;;
+ 	-linux-dietlibc)
+ 		os=-linux-dietlibc
+ 		;;
  	-linux*)
  		os=`echo $os | sed -e 's|linux|linux-gnu|'`
  		;;
***************
*** 1176,1181 ****
--- 1423,1431 ----
  	-opened*)
  		os=-openedition
  		;;
+ 	-os400*)
+ 		os=-os400
+ 		;;
  	-wince*)
  		os=-wince
  		;;
***************
*** 1197,1202 ****
--- 1447,1455 ----
  	-atheos*)
  		os=-atheos
  		;;
+ 	-syllable*)
+ 		os=-syllable
+ 		;;
  	-386bsd)
  		os=-bsd
  		;;
***************
*** 1219,1224 ****
--- 1472,1480 ----
  	-sinix*)
  		os=-sysv4
  		;;
+ 	-tpf*)
+ 		os=-tpf
+ 		;;
  	-triton*)
  		os=-sysv3
  		;;
***************
*** 1252,1259 ****
  	-aros*)
  		os=-aros
  		;;
! 	-kaos*)
! 		os=-kaos
  		;;
  	-none)
  		;;
--- 1508,1520 ----
  	-aros*)
  		os=-aros
  		;;
! 	-zvmoe)
! 		os=-zvmoe
! 		;;
! 	-dicos*)
! 		os=-dicos
! 		;;
! 	-nacl*)
  		;;
  	-none)
  		;;
***************
*** 1277,1282 ****
--- 1538,1549 ----
  # system, and we'll never get to this point.
  
  case $basic_machine in
+ 	score-*)
+ 		os=-elf
+ 		;;
+ 	spu-*)
+ 		os=-elf
+ 		;;
  	*-acorn)
  		os=-riscix1.2
  		;;
***************
*** 1286,1294 ****
  	arm*-semi)
  		os=-aout
  		;;
!     c4x-* | tic4x-*)
!         os=-coff
!         ;;
  	# This must come before the *-dec entry.
  	pdp10-*)
  		os=-tops20
--- 1553,1576 ----
  	arm*-semi)
  		os=-aout
  		;;
! 	c4x-* | tic4x-*)
! 		os=-coff
! 		;;
! 	c8051-*)
! 		os=-elf
! 		;;
! 	hexagon-*)
! 		os=-elf
! 		;;
! 	tic54x-*)
! 		os=-coff
! 		;;
! 	tic55x-*)
! 		os=-coff
! 		;;
! 	tic6x-*)
! 		os=-coff
! 		;;
  	# This must come before the *-dec entry.
  	pdp10-*)
  		os=-tops20
***************
*** 1307,1319 ****
  		;;
  	m68000-sun)
  		os=-sunos3
- 		# This also exists in the configure program, but was not the
- 		# default.
- 		# os=-sunos4
  		;;
  	m68*-cisco)
  		os=-aout
  		;;
  	mips*-cisco)
  		os=-elf
  		;;
--- 1589,1601 ----
  		;;
  	m68000-sun)
  		os=-sunos3
  		;;
  	m68*-cisco)
  		os=-aout
  		;;
+ 	mep-*)
+ 		os=-elf
+ 		;;
  	mips*-cisco)
  		os=-elf
  		;;
***************
*** 1332,1340 ****
--- 1614,1628 ----
  	*-be)
  		os=-beos
  		;;
+ 	*-haiku)
+ 		os=-haiku
+ 		;;
  	*-ibm)
  		os=-aix
  		;;
+ 	*-knuth)
+ 		os=-mmixware
+ 		;;
  	*-wec)
  		os=-proelf
  		;;
***************
*** 1437,1443 ****
  			-sunos*)
  				vendor=sun
  				;;
! 			-aix*)
  				vendor=ibm
  				;;
  			-beos*)
--- 1725,1731 ----
  			-sunos*)
  				vendor=sun
  				;;
! 			-cnk*|-aix*)
  				vendor=ibm
  				;;
  			-beos*)
***************
*** 1467,1475 ****
--- 1755,1769 ----
  			-mvs* | -opened*)
  				vendor=ibm
  				;;
+ 			-os400*)
+ 				vendor=ibm
+ 				;;
  			-ptx*)
  				vendor=sequent
  				;;
+ 			-tpf*)
+ 				vendor=ibm
+ 				;;
  			-vxsim* | -vxworks* | -windiss*)
  				vendor=wrs
  				;;
***************
*** 1494,1500 ****
  esac
  
  echo $basic_machine$os
! exit 0
  
  # Local variables:
  # eval: (add-hook 'write-file-hooks 'time-stamp)
--- 1788,1794 ----
  esac
  
  echo $basic_machine$os
! exit
  
  # Local variables:
  # eval: (add-hook 'write-file-hooks 'time-stamp)
